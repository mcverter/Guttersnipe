<!DOCTYPE html>
<html class="devsite wf-opensans-n4-active wf-active" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script async="" src="phpsqlajax_v3_files/cbgapi.loaded_0"></script><script gapi_processed="true" src="phpsqlajax_v3_files/plusone.js" async="" type="text/javascript"></script>
    <meta charset="utf-8">
    <script src="phpsqlajax_v3_files/script_head.js"></script>
    <link rel="stylesheet" type="text/css" href="phpsqlajax_v3_files/screen.css">
    <link rel="shortcut icon" href="https://developers.google.com/_static/images/favicon.ico">
    <link rel="apple-touch-icon" href="https://developers.google.com/_static/images/apple-touch-icon.png">
    <link href="phpsqlajax_v3_files/css_002.css" rel="stylesheet" type="text/css">
    
    <script src="phpsqlajax_v3_files/jquery.js"></script>
    <script id="jqueryui" src="phpsqlajax_v3_files/jquery-ui.js"></script>
    <script src="phpsqlajax_v3_files/jsapi"></script>
    <script>
      google.load('visualization', '1', {packages: ['table']});
    </script><script src="phpsqlajax_v3_files/a_002" type="text/javascript"></script><script src="phpsqlajax_v3_files/formatendefaulttable.js" type="text/javascript"></script><style>.a-b-c{position:relative;display:-moz-inline-box;display:inline-block}* html .a-b-c,*:first-child+html .a-b-c{display:inline}.a-d-e{margin:2px;border:0;padding:0;font-family:Arial,sans-serif;color:#000;background:#ddd url(//ssl.gstatic.com/editor/button-bg.png) repeat-x top left;text-decoration:none;list-style:none;vertical-align:middle;cursor:default;outline:none}.a-d-e-f-g,.a-d-e-h-g{border-style:solid;border-color:#aaa;vertical-align:top}.a-d-e-f-g{margin:0;border-width:1px 0;padding:0}.a-d-e-h-g{-moz-box-orient:vertical;margin:0 -1px;border-width:0 1px;padding:3px 4px;white-space:nowrap}* html .a-d-e-h-g{left:-1px}* html .a-d-e-i .a-d-e-f-g{left:-1px}* html .a-d-e-i .a-d-e-h-g{right:auto}*:first-child+html .a-d-e-h-g{left:-1px}*:first-child+html .a-d-e-i .a-d-e-h-g{left:1px}::root .a-d-e,::root .a-d-e-f-g{line-height:0}::root .a-d-e-h-g{line-height:normal}.a-d-e-j{background-image:none!important;opacity:.3;-moz-opacity:.3;filter:alpha(opacity=30)}.a-d-e-j .a-d-e-f-g,.a-d-e-j .a-d-e-h-g{color:#333!important;border-color:#999!important}* html .a-d-e-j,*:first-child+html .a-d-e-j{margin:2px 1px!important;padding:0 1px!important}.a-d-e-k .a-d-e-f-g,.a-d-e-k .a-d-e-h-g{border-color:#9cf #69e #69e #7af!important}.a-d-e-l,.a-d-e-m{background-color:#bbb;background-position:bottom left}.a-d-e-n .a-d-e-f-g,.a-d-e-n .a-d-e-h-g{border-color:orange}.a-d-e-o-p,.a-d-e-o-p .a-d-e-f-g,.a-d-e-o-p .a-d-e-h-g{margin-right:0}.a-d-e-o-q,.a-d-e-o-q .a-d-e-f-g{margin-left:0}.a-d-e-o-q .a-d-e-h-g{margin-left:0;border-left:1px solid #fff}.a-d-e-o-q.a-d-e-m .a-d-e-h-g{border-left:1px solid #ddd}* html .a-d-e-o-q .a-d-e-h-g,*:first-child+html .a-d-e-o-q .a-d-e-h-g{left:0}.a-r-e{position:relative;margin:2px;border:1px solid #000;padding:2px 6px;font:normal 13px "Trebuchet MS",Tahoma,Arial,sans-serif;color:#fff;background-color:#8c2425;cursor:pointer;outline:none}.a-r-e-j{border-color:#888;color:#888;background-color:#ccc;cursor:default}.a-r-e-k{border-color:#8c2425;color:#8c2425;background-color:#eaa4a5}.a-r-e-l,.a-r-e-s,.a-r-e-m{border-color:#5b4169;color:#5b4169;background-color:#d1a8ea}.a-r-e-n{border-color:#5b4169}.a-r-e-o-p{margin-right:0}.a-r-e-o-q{margin-left:0;border-left:none}.a-e{color:#036;border-color:#036;background-color:#69c}.a-e-j{border-color:#333;color:#333;background-color:#999}.a-e-k{color:#369;border-color:#369;background-color:#9cf}.a-e-l{color:#69c;border-color:#69c}</style><link type="text/css" rel="stylesheet" href="phpsqlajax_v3_files/table.css">
    <script type="text/javascript" src="phpsqlajax_v3_files/api.js"></script>
    <!--[if lt IE 9]>
    <script src="/_static/js/html5shim/html5.js"></script>
    <![endif]-->

    
    <script>
      google.load('search', '1', {language : 'en'});
    </script><script src="phpsqlajax_v3_files/a" type="text/javascript"></script><link href="phpsqlajax_v3_files/defaulten.css" type="text/css" rel="stylesheet"><script src="phpsqlajax_v3_files/defaulten.js" type="text/javascript"></script>
    

    
  <script type="text/javascript">
    var contentTimer = new window.jstiming.Timer();

    var ___gcfg = ___gcfg || {};
    ___gcfg.lang = 'en';
  </script>
  <script src="phpsqlajax_v3_files/jquery-ui.js"></script>
  
  <title>Using PHP/MySQL with Google Maps - Google Maps API — Google Developers</title><link href="phpsqlajax_v3_files/css.css" rel="stylesheet">
  
  
  
    
    
    
  


    
    

  </head>
  <body class="two-column docs">
    
    <div id="sandbar">




<header id="gc-googlebar">

  <a id="gc-logo" href="https://developers.google.com/">
    <img src="phpsqlajax_v3_files/developers-logo.png" alt="Google">
  </a>

  <div class="gc-social">
    
    <span class="signed-in">
      <div>
        <a class="email" href="https://plus.google.com/me">mitchell.verter@gmail.com</a>
        <a href="https://www.google.com/accounts/Logout?continue=https://developers.google.com/maps/articles/phpsqlajax_v3&amp;service=ahsid">Sign out</a>
      </div>
      <img src="phpsqlajax_v3_files/silhouette36.png">
    </span>
    
  </div>

  <form class="gc-search" action="/search/results" method="GET">
    <div style="width: 391px;" class="searchbox">
      
      
        <span class="button button-blue mini">Google Maps API<pre>  X</pre></span>
      
      <input style="width: 263px;" name="q" class="q" id="q" placeholder="Search" autocomplete="off" type="text">
    </div>
    <button style="top: 0px; left: 410px;" class="button button-blue">
      <img src="phpsqlajax_v3_files/search.png" alt="Search">
    </button>
    
      <input name="p" id="search_project" value="/maps" type="hidden">
    
  </form>

</header>



</div>
    

    
    
    <div class="kd-butterbar shown">
      <span>This page has moved to Google Developers. Welcome! <a href="https://developers.google.com/readme">Learn more</a> <a href="#" class="kd-butterbar-dismiss">Dismiss</a></span>
    </div>
    

    <div id="gc-wrapper" itemscope="" itemtype="http://schema.org/Article">
      
      <input id="gc-analytics" value="UA-24532603-1" type="hidden">
      

      

      <div id="gc-topnav">
        <div>
          <ul>
            
            
            <li class=""><a href="https://developers.google.com/">Home</a></li>
            
            <li class="active"><a href="https://developers.google.com/products/">Products</a></li>
            
            <li class=""><a href="https://developers.google.com/events/">Events</a></li>
            
            <li class=""><a href="https://developers.google.com/showcase/">Showcase</a></li>
            
            <li class=""><a href="https://developers.google.com/live/">Live</a></li>
            
            <li class=""><a href="https://developers.google.com/groups/">Groups</a></li>
            
            
          </ul>
        </div>
      </div>
      
      

      
      
      
        <div id="gc-appbar">
          
          
<h1>

  <a href="https://developers.google.com/maps/">Google Maps API</a>
  <div class="plusone-container">
    <div id="___plusone_0" style="height: 20px; width: 90px; display: inline-block; text-indent: 0px; margin: 0px; padding: 0px; background: none repeat scroll 0% 0% transparent; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline;"><iframe src="phpsqlajax_v3_files/fastbutton.html" name="I0_1349194053358" id="I0_1349194053358" vspace="0" tabindex="0" style="position: absolute; top: -10000px; width: 90px; margin: 0px; border-style: none;" marginwidth="0" marginheight="0" hspace="0" allowtransparency="true" frameborder="0" scrolling="no" width="100%"></iframe></div>
  </div>


<div style="float:right;">
  
  <a href="" class="google-feedback" data-p="81777" data-b="" data-context="Maps API Marketing Layer">Feedback on this document</a>
</div>





</h1>

          
        </div>
      
      

      
      <div id="gc-main">
        
      
      
      <div id="gc-sidebar">
        

  



  <nav class="gc-toc"><ul><li class=""><a href="https://developers.google.com/maps/" data-title="Overview"><span>Overview</span></a></li><li class=""><a href="https://developers.google.com/maps/location-based-apps" data-title="Location-Based Apps"><span>Location-Based Apps</span></a></li><li class=""><a href="https://developers.google.com/maps/mobile-apps" data-title="Mobile Apps"><span>Mobile Apps</span></a></li><li class=""><a href="https://developers.google.com/maps/visualize" data-title="Visualize"><span>Visualize</span></a></li><li class=""><a href="https://developers.google.com/maps/customize" data-title="Customize"><span>Customize</span></a></li><li class=""><a href="https://developers.google.com/maps/licensing" data-title="Licensing"><span>Licensing</span></a></li></ul><hr><ul><li class=""><a href="https://developers.google.com/showcase/" data-title="Showcase"><span>Showcase</span></a></li><li class=""><a href="https://developers.google.com/maps/documentation/" data-title="Documentation"><span>Documentation</span></a></li><li class=""><a href="https://www.youtube.com/user/GoogleDevelopers/videos?query=geo" data-title="Videos"><span>Videos</span></a></li></ul></nav>



      </div>
      

      <div id="gc-content">
        
        <div>
          
  
  <h1 itemprop="name" class="page-title">Using PHP/MySQL with Google Maps</h1>
  
  <div itemprop="articleBody">
  
<div class="i">
<i>Ben Appleton, Google Geo Team</i>
<br>
<i>With contributions from Lary Stucker, Maps API Developer</i>
<br>
<i>April 2007</i>

<p class="para"> This tutorial is intended for developers who are familiar with
PHP/MySQL, and want to learn how to use Google Maps with a MySQL
database. After completing this tutorial, you will have a Google Map
based off a database of places. The map will differentiate between two
types of places—restaurants and bars—by giving their
markers distinguishing icons. An info window with name and address
information will display above a marker when clicked.</p>
<p class="para">
The tutorial is broken up into the following steps:
</p>
<ul>
<li><a href="#createtable">Creating the Table</a></li>
<li><a href="#populatetable">Populating the Table</a></li>
<li><a href="#outputxml">Outputting XML with PHP</a></li>
<li><a href="#createmap">Creating the Map</a></li>
</ul>
<h2 id="createtable">Creating the Table</h2>
<p class="para"> When you create the MySQL table, you want to pay particular
attention to the <code>lat</code> and <code>lng</code> attributes.
With the current zoom capabilities of Google Maps, you should only
need 6 digits of precision after the decimal. To keep the storage
space required for your table at a minimum, you can specify that the
<code>lat</code> and <code>lng</code> attributes are floats of size
(10,6). That will let the fields store 6 digits after the decimal,
plus up to 4 digits before the decimal, e.g. -123.456789 degrees.
Your table should also have an <code>id</code> attribute to serve as
the primary key, and a <code>type</code> attribute to distinguish
between restaurants and bars. </p>

<p class="para"> <strong>Note:</strong> This tutorial uses location data that
already have latitude and longitude information needed to plot
corresponding markers. If you're trying to use your own data that
don't yet have that information, use a batch geocoding service to
convert the addresses into latitudes/longitudes. Some sites make the
mistake of geocoding addresses each time a page loads, but doing so
will result in slower page loads and unnecessary repeat geocodes. It's
always better to hardcode the latitude/longitude information when
possible. This link contains a good list of geocoders: <a href="http://groups.google.com/group/Google-Maps-API/web/resources-non-google-geocoders" target="_blank">http://groups.google.com/group/Google-Maps-API/web/resources-non-google-geocoders</a>
</p>
<p class="para"> If you prefer interacting with your database through the
phpMyAdmin interface, here's a screenshot of the table creation.
</p>
<p class="para">
<img src="phpsqlajax_v3_files/phpsqlgeocode_createtable.jpg" style="margin-left: 2em; border:1px solid grey" width="600">
</p>
<p class="para"> If you don't have access to phpMyAdmin or prefer using SQL
commands instead, here's the SQL statement that creates the table (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_createtable.sql" target="_blank">phpsqlajax_createtable.sql</a>):</p>

<pre class="prettyprint"><span class="pln">CREATE TABLE </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="pln"><br>&nbsp; </span><span class="str">`id`</span><span class="pln"> INT NOT NULL AUTO_INCREMENT PRIMARY KEY </span><span class="pun">,</span><span class="pln"><br>&nbsp; </span><span class="str">`name`</span><span class="pln"> VARCHAR</span><span class="pun">(</span><span class="pln"> </span><span class="lit">60</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> NOT NULL </span><span class="pun">,</span><span class="pln"><br>&nbsp; </span><span class="str">`address`</span><span class="pln"> VARCHAR</span><span class="pun">(</span><span class="pln"> </span><span class="lit">80</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> NOT NULL </span><span class="pun">,</span><span class="pln"><br>&nbsp; </span><span class="str">`lat`</span><span class="pln"> FLOAT</span><span class="pun">(</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> NOT NULL </span><span class="pun">,</span><span class="pln"><br>&nbsp; </span><span class="str">`lng`</span><span class="pln"> FLOAT</span><span class="pun">(</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> NOT NULL </span><span class="pun">,</span><span class="pln"><br>&nbsp; </span><span class="str">`type`</span><span class="pln"> VARCHAR</span><span class="pun">(</span><span class="pln"> </span><span class="lit">30</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> NOT NULL<br></span><span class="pun">)</span><span class="pln"> ENGINE </span><span class="pun">=</span><span class="pln"> MYISAM </span><span class="pun">;</span></pre>
<br>
<h2 id="populatetable">Populating the Table</h2>
<p class="para"> After creating the table, it's time to populate it with
data. Sample data for 10 Seattle places are provided below. In
phpMyAdmin, you can use the IMPORT tab to import various file
formats, including CSV (comma-separated values). Microsoft Excel and
Google Spreadsheets both export to CSV format, so you can easily
transfer data from spreadsheets to MySQL tables through
exporting/importing CSV files. </p>
<p class="para">Here's the sample data in CSV format (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_data.csv" target="_blank">phpsqlajax_data.csv</a>):</p>
<pre class="prettyprint"><span class="typ">Pan</span><span class="pln"> </span><span class="typ">Africa</span><span class="pln"> </span><span class="typ">Market</span><span class="pun">,</span><span class="str">"1521 1st Ave, Seattle, WA"</span><span class="pun">,</span><span class="lit">47.608941</span><span class="pun">,-</span><span class="lit">122.340145</span><span class="pun">,</span><span class="pln">restaurant<br></span><span class="typ">Buddha</span><span class="pln"> </span><span class="typ">Thai</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="typ">Bar</span><span class="pun">,</span><span class="str">"2222 2nd Ave, Seattle, WA"</span><span class="pun">,</span><span class="lit">47.613591</span><span class="pun">,-</span><span class="lit">122.344394</span><span class="pun">,</span><span class="pln">bar<br></span><span class="typ">The</span><span class="pln"> </span><span class="typ">Melting</span><span class="pln"> </span><span class="typ">Pot</span><span class="pun">,</span><span class="str">"14 Mercer St, Seattle, WA"</span><span class="pun">,</span><span class="lit">47.624562</span><span class="pun">,-</span><span class="lit">122.356442</span><span class="pun">,</span><span class="pln">restaurant<br></span><span class="typ">Ipanema</span><span class="pln"> </span><span class="typ">Grill</span><span class="pun">,</span><span class="str">"1225 1st Ave, Seattle, WA"</span><span class="pun">,</span><span class="lit">47.606366</span><span class="pun">,-</span><span class="lit">122.337656</span><span class="pun">,</span><span class="pln">restaurant<br></span><span class="typ">Sake</span><span class="pln"> </span><span class="typ">House</span><span class="pun">,</span><span class="str">"2230 1st Ave, Seattle, WA"</span><span class="pun">,</span><span class="lit">47.612825</span><span class="pun">,-</span><span class="lit">122.34567</span><span class="pun">,</span><span class="pln">bar<br></span><span class="typ">Crab</span><span class="pln"> </span><span class="typ">Pot</span><span class="pun">,</span><span class="str">"1301 Alaskan Way, Seattle, WA"</span><span class="pun">,</span><span class="lit">47.605961</span><span class="pun">,-</span><span class="lit">122.34036</span><span class="pun">,</span><span class="pln">restaurant<br></span><span class="typ">Mama</span><span class="str">'s Mexican Kitchen,"2234 2nd Ave, Seattle, WA",47.613975,-122.345467,bar<br>Wingdome,"1416 E Olive Way, Seattle, WA",47.617215,-122.326584,bar<br>Piroshky Piroshky,"1908 Pike pl, Seattle, WA",47.610127,-122.342838,restaurant</span></pre>

<p class="para">Here's a screenshot of the import options used to transform this
CSV into table data:</p>
<p class="para">
<img src="phpsqlajax_v3_files/phpsqlgeocode_importdata.jpg" style="margin-left: 2em; border:1px solid grey" width="600px">
</p>
<p class="para">If you'd rather not use the phpMyAdmin interface, here are the SQL
statements that accomplish the same results ( <a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_data.sql" target="_blank">phpsqlajax_data.sql</a>): </p>
<pre class="prettyprint"><span class="pln">INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Pan Africa Market'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'1521 1st Ave, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.608941'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.340145'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'restaurant'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Buddha Thai &amp; Bar'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'2222 2nd Ave, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.613591'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.344394'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'bar'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'The Melting Pot'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'14 Mercer St, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.624562'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.356442'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'restaurant'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Ipanema Grill'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'1225 1st Ave, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.606366'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.337656'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'restaurant'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Sake House'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'2230 1st Ave, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.612825'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.34567'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'bar'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Crab Pot'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'1301 Alaskan Way, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.605961'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.34036'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'restaurant'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Mama\'s Mexican Kitchen'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'2234 2nd Ave, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.613975'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.345467'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'bar'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Wingdome'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'1416 E Olive Way, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.617215'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.326584'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'bar'</span><span class="pun">);</span><span class="pln"><br>INSERT INTO </span><span class="str">`markers`</span><span class="pln"> </span><span class="pun">(</span><span class="str">`name`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`address`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lat`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`lng`</span><span class="pun">,</span><span class="pln"> </span><span class="str">`type`</span><span class="pun">)</span><span class="pln"> VALUES </span><span class="pun">(</span><span class="str">'Piroshky Piroshky'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'1908 Pike pl, Seattle, WA'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'47.610127'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'-122.342838'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'restaurant'</span><span class="pun">);</span></pre>
<br>
<h2 id="outputxml">Outputting XML with PHP</h2>
<p class="para"> At this point, you should have a table named <code>markers</code>

filled with sample data. You now need to write some PHP statements to
export the table data into an XML format that your map can retrieve
through asynchronous JavaScript calls. If you've never written PHP to
connect to a MySQL database, you should visit <a href="http://www.php.net/" target="_blank">php.net</a> and read up
 on <code>mysql_connect</code>, <code>mysql_select_db</code>, <code>my_sql_query</code>, and <code>mysql_error</code>.
</p>
<p class="para"><strong>Note:</strong> Some tutorials may suggest actually
  writing your map page as a PHP file and outputting JavaScript for each marker
  you want to create, but that technique can be problematic. By using
  an XML file as an intermediary between your database and your Google
  Map, it makes for a faster initial page load, a more flexible map
  application, and easier debugging. You can independently verify the
  XML output from the database and the JavaScript parsing of the
  XML. And at any point, you could even decide to eliminate your
  database entirely and just run the map based on static XML files.
</p>

<p class="para"> First, you should put your database connection information in a
separate file. This is generally a good idea whenever you're using PHP
to access a database, as it keeps your confidential information in a
file that you won't be tempted to share. In the Maps API forum, we've
occasionally had people accidentally publish their database connection
information when they were just trying to debug their XML-outputting
code. The file should look like this, but with your own database
information filled in (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_dbinfo.php" target="_blank">phpsqlajax_dbinfo.php</a>): </p>
<pre class="prettyprint"><span class="pun">&lt;?</span><span class="pln"><br>$username</span><span class="pun">=</span><span class="str">"username"</span><span class="pun">;</span><span class="pln"><br>$password</span><span class="pun">=</span><span class="str">"password"</span><span class="pun">;</span><span class="pln"><br>$database</span><span class="pun">=</span><span class="str">"username-databaseName"</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">?&gt;</span></pre>
<h3>Using PHP's domxml Functions to Output XML</h3>
<p class="para"> Check your configuration or try initializing a
<code>domxml_new_doc()</code> to determine if your server's PHP has

<code>dom_xml</code> functionality on. If you do have access to
<code>dom_xml</code> functions, you can use them to create XML nodes,
append child nodes, and output an XML document to the screen. The
<code>dom_xml</code> functions take care of subtleties such as
escaping special entities in the XML, and make it easy to create XML
with more complex structures. </p>
<p class="para"> In the PHP, first initialize a new XML document and create the
"markers" parent node. Then connect to the database, execute a
<code>SELECT *</code> (select all) query on the markers table,
 and iterate through the results. For each row in the table (each location), create a new XML node with the
row attributes as XML attributes, and append it to the parent node. Then dump the XML to the screen.
</p>
<p class="para">

<strong>Note: </strong> If your database contains international characters or you otherwise need to force UTF-8 output, you can use <code><a href="http://us2.php.net/manual/en/function.utf8-encode.php">utf8_encode</a></code> on the outputted data.
</p>
<p class="para"> The PHP file that does all that is shown below (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_genxml.php" target="_blank">phpsqlajax_genxml.php</a>): </p>
<pre class="prettyprint"><span class="pun">&lt;?</span><span class="pln">php<br></span><span class="kwd">require</span><span class="pun">(</span><span class="str">"phpsqlajax_dbinfo.php"</span><span class="pun">);</span><span class="pln"><br><br></span><span class="com">// Start XML file, create parent node</span><span class="pln"><br>$doc </span><span class="pun">=</span><span class="pln"> domxml_new_doc</span><span class="pun">(</span><span class="str">"1.0"</span><span class="pun">);</span><span class="pln"><br>$node </span><span class="pun">=</span><span class="pln"> $doc</span><span class="pun">-&gt;</span><span class="pln">create_element</span><span class="pun">(</span><span class="str">"markers"</span><span class="pun">);</span><span class="pln"><br>$parnode </span><span class="pun">=</span><span class="pln"> $doc</span><span class="pun">-&gt;</span><span class="pln">append_child</span><span class="pun">(</span><span class="pln">$node</span><span class="pun">);</span><span class="pln"><br><br></span><span class="com">// Opens a connection to a MySQL server</span><span class="pln"><br>$connection</span><span class="pun">=</span><span class="pln">mysql_connect </span><span class="pun">(</span><span class="pln">localhost</span><span class="pun">,</span><span class="pln"> $username</span><span class="pun">,</span><span class="pln"> $password</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$connection</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pun">(</span><span class="str">'Not connected : '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">// Set the active MySQL database</span><span class="pln"><br>$db_selected </span><span class="pun">=</span><span class="pln"> mysql_select_db</span><span class="pun">(</span><span class="pln">$database</span><span class="pun">,</span><span class="pln"> $connection</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$db_selected</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pln"> </span><span class="pun">(</span><span class="str">'Can\'t use db : '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">// Select all the rows in the markers table</span><span class="pln"><br>$query </span><span class="pun">=</span><span class="pln"> </span><span class="str">"SELECT * FROM markers WHERE 1"</span><span class="pun">;</span><span class="pln"><br>$result </span><span class="pun">=</span><span class="pln"> mysql_query</span><span class="pun">(</span><span class="pln">$query</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pun">(</span><span class="str">'Invalid query: '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>header</span><span class="pun">(</span><span class="str">"Content-type: text/xml"</span><span class="pun">);</span><span class="pln"><br><br></span><span class="com">// Iterate through the rows, adding XML nodes for each</span><span class="pln"><br></span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$row </span><span class="pun">=</span><span class="pln"> </span><span class="lit">@mysql_fetch_assoc</span><span class="pun">(</span><span class="pln">$result</span><span class="pun">)){</span><span class="pln"><br>&nbsp; </span><span class="com">// ADD TO XML DOCUMENT NODE</span><span class="pln"><br>&nbsp; $node </span><span class="pun">=</span><span class="pln"> $doc</span><span class="pun">-&gt;</span><span class="pln">create_element</span><span class="pun">(</span><span class="str">"marker"</span><span class="pun">);</span><span class="pln"><br>&nbsp; $newnode </span><span class="pun">=</span><span class="pln"> $parnode</span><span class="pun">-&gt;</span><span class="pln">append_child</span><span class="pun">(</span><span class="pln">$node</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">set_attribute</span><span class="pun">(</span><span class="str">"name"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'name'</span><span class="pun">]);</span><span class="pln"><br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">set_attribute</span><span class="pun">(</span><span class="str">"address"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'address'</span><span class="pun">]);</span><span class="pln"><br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">set_attribute</span><span class="pun">(</span><span class="str">"lat"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'lat'</span><span class="pun">]);</span><span class="pln"><br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">set_attribute</span><span class="pun">(</span><span class="str">"lng"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'lng'</span><span class="pun">]);</span><span class="pln"><br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">set_attribute</span><span class="pun">(</span><span class="str">"type"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'type'</span><span class="pun">]);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>$xmlfile </span><span class="pun">=</span><span class="pln"> $doc</span><span class="pun">-&gt;</span><span class="pln">dump_mem</span><span class="pun">();</span><span class="pln"><br>echo $xmlfile</span><span class="pun">;</span><span class="pln"><br><br></span><span class="pun">?&gt;</span><span class="pln"><br></span></pre>
<h3>Using PHP's echo to Output XML</h3>
<p class="para"> If you don't have access to PHP's <code>dom_xml</code> functions,
then you can simply output the XML with the <code>echo</code>
function. When using just the <code>echo</code> function, you'll need
to use a helper function (e.g. <code>parseToXML</code>)
 that will correctly encode a few special entities (&lt;,&gt;,",') to be XML friendly.

</p>
<p class="para"> In the PHP, first connect to the database and execute the
<code>SELECT *</code> (select all) query on the markers table. Then
echo out the parent <code>markers</code> node, and iterate through the
query results. For each row in the table (each location), you need to
echo out the XML node for that marker, sending the name and address
fields through the <code>parseToXML</code> function first in case
there are any special entities in them. Finish the script by echoing
out the closing <code>markers</code> tag. </p>
<p class="para">

<strong>Note: </strong> If your database contains international characters or you otherwise need to force UTF-8 output, you can use <code><a href="http://us2.php.net/manual/en/function.utf8-encode.php">utf8_encode</a></code> on the outputted data.
</p>
<p class="para">The PHP file that does all this is shown below (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_genxml2.php" target="_blank">phpsqlajax_genxml2.php</a>): </p>
<pre class="prettyprint"><span class="pun">&lt;?</span><span class="pln">php<br></span><span class="kwd">require</span><span class="pun">(</span><span class="str">"phpsqlajax_dbinfo.php"</span><span class="pun">);</span><span class="pln"><br><br></span><span class="kwd">function</span><span class="pln"> parseToXML</span><span class="pun">(</span><span class="pln">$htmlStr</span><span class="pun">)</span><span class="pln"> <br></span><span class="pun">{</span><span class="pln"> <br>$xmlStr</span><span class="pun">=</span><span class="pln">str_replace</span><span class="pun">(</span><span class="str">'&lt;'</span><span class="pun">,</span><span class="str">'&amp;lt;'</span><span class="pun">,</span><span class="pln">$htmlStr</span><span class="pun">);</span><span class="pln"> <br>$xmlStr</span><span class="pun">=</span><span class="pln">str_replace</span><span class="pun">(</span><span class="str">'&gt;'</span><span class="pun">,</span><span class="str">'&amp;gt;'</span><span class="pun">,</span><span class="pln">$xmlStr</span><span class="pun">);</span><span class="pln"> <br>$xmlStr</span><span class="pun">=</span><span class="pln">str_replace</span><span class="pun">(</span><span class="str">'"'</span><span class="pun">,</span><span class="str">'&amp;quot;'</span><span class="pun">,</span><span class="pln">$xmlStr</span><span class="pun">);</span><span class="pln"> <br>$xmlStr</span><span class="pun">=</span><span class="pln">str_replace</span><span class="pun">(</span><span class="str">"'"</span><span class="pun">,</span><span class="str">'&amp;#39;'</span><span class="pun">,</span><span class="pln">$xmlStr</span><span class="pun">);</span><span class="pln"> <br>$xmlStr</span><span class="pun">=</span><span class="pln">str_replace</span><span class="pun">(</span><span class="str">"&amp;"</span><span class="pun">,</span><span class="str">'&amp;amp;'</span><span class="pun">,</span><span class="pln">$xmlStr</span><span class="pun">);</span><span class="pln"> <br></span><span class="kwd">return</span><span class="pln"> $xmlStr</span><span class="pun">;</span><span class="pln"> <br></span><span class="pun">}</span><span class="pln"> <br><br></span><span class="com">// Opens a connection to a MySQL server</span><span class="pln"><br>$connection</span><span class="pun">=</span><span class="pln">mysql_connect </span><span class="pun">(</span><span class="pln">localhost</span><span class="pun">,</span><span class="pln"> $username</span><span class="pun">,</span><span class="pln"> $password</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$connection</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pun">(</span><span class="str">'Not connected : '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">// Set the active MySQL database</span><span class="pln"><br>$db_selected </span><span class="pun">=</span><span class="pln"> mysql_select_db</span><span class="pun">(</span><span class="pln">$database</span><span class="pun">,</span><span class="pln"> $connection</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$db_selected</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pln"> </span><span class="pun">(</span><span class="str">'Can\'t use db : '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">// Select all the rows in the markers table</span><span class="pln"><br>$query </span><span class="pun">=</span><span class="pln"> </span><span class="str">"SELECT * FROM markers WHERE 1"</span><span class="pun">;</span><span class="pln"><br>$result </span><span class="pun">=</span><span class="pln"> mysql_query</span><span class="pun">(</span><span class="pln">$query</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pun">(</span><span class="str">'Invalid query: '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br>header</span><span class="pun">(</span><span class="str">"Content-type: text/xml"</span><span class="pun">);</span><span class="pln"><br><br></span><span class="com">// Start XML file, echo parent node</span><span class="pln"><br>echo </span><span class="str">'&lt;markers&gt;'</span><span class="pun">;</span><span class="pln"><br><br></span><span class="com">// Iterate through the rows, printing XML nodes for each</span><span class="pln"><br></span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$row </span><span class="pun">=</span><span class="pln"> </span><span class="lit">@mysql_fetch_assoc</span><span class="pun">(</span><span class="pln">$result</span><span class="pun">)){</span><span class="pln"><br>&nbsp; </span><span class="com">// ADD TO XML DOCUMENT NODE</span><span class="pln"><br>&nbsp; echo </span><span class="str">'&lt;marker '</span><span class="pun">;</span><span class="pln"><br>&nbsp; echo </span><span class="str">'name="'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> parseToXML</span><span class="pun">(</span><span class="pln">$row</span><span class="pun">[</span><span class="str">'name'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> </span><span class="str">'" '</span><span class="pun">;</span><span class="pln"><br>&nbsp; echo </span><span class="str">'address="'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> parseToXML</span><span class="pun">(</span><span class="pln">$row</span><span class="pun">[</span><span class="str">'address'</span><span class="pun">])</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> </span><span class="str">'" '</span><span class="pun">;</span><span class="pln"><br>&nbsp; echo </span><span class="str">'lat="'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'lat'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> </span><span class="str">'" '</span><span class="pun">;</span><span class="pln"><br>&nbsp; echo </span><span class="str">'lng="'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'lng'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> </span><span class="str">'" '</span><span class="pun">;</span><span class="pln"><br>&nbsp; echo </span><span class="str">'type="'</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'type'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> </span><span class="str">'" '</span><span class="pun">;</span><span class="pln"><br>&nbsp; echo </span><span class="str">'/&gt;'</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"><br><br></span><span class="com">// End XML file</span><span class="pln"><br>echo </span><span class="str">'&lt;/markers&gt;'</span><span class="pun">;</span><span class="pln"><br><br></span><span class="pun">?&gt;</span><span class="pln"><br></span></pre>

<h3>Using PHP's DOM functions to Output XML</h3>
<p class="para">
First, check your configuration and make sure you are using PHP5. If you aren't, then use one of the previous techniques.
</p>
<p class="para">
In PHP, first initialize a new XML document and create the "markers" parent node. Then connect to the database, execute a <code>SELECT *</code>
 (select all) query on the markers table, and iterate through the 
results. For each row in the table (each location), create a new XML 
node with the row attributes as XML attributes, and append it to the 
parent node. Then dump the XML to the screen.
</p>
<p class="para">
<strong>Note: </strong> If your database contains international characters or you otherwise need to force UTF-8 output, you can use <code><a href="http://us2.php.net/manual/en/function.utf8-encode.php">utf8_encode</a></code> on the outputted data.

</p>
<p class="para">The PHP file that does all this is shown below (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_genxml3.php" target="_blank">phpsqlajax_genxml3.php</a>): </p>
<pre class="prettyprint"><span class="pun">&lt;?</span><span class="pln">php &nbsp;<br><br></span><span class="kwd">require</span><span class="pun">(</span><span class="str">"phpsqlajax_dbinfo.php"</span><span class="pun">);</span><span class="pln"> <br><br></span><span class="com">// Start XML file, create parent node</span><span class="pln"><br><br>$dom </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DOMDocument</span><span class="pun">(</span><span class="str">"1.0"</span><span class="pun">);</span><span class="pln"><br>$node </span><span class="pun">=</span><span class="pln"> $dom</span><span class="pun">-&gt;</span><span class="pln">createElement</span><span class="pun">(</span><span class="str">"markers"</span><span class="pun">);</span><span class="pln"><br>$parnode </span><span class="pun">=</span><span class="pln"> $dom</span><span class="pun">-&gt;</span><span class="pln">appendChild</span><span class="pun">(</span><span class="pln">$node</span><span class="pun">);</span><span class="pln"> <br><br></span><span class="com">// Opens a connection to a MySQL server</span><span class="pln"><br><br>$connection</span><span class="pun">=</span><span class="pln">mysql_connect </span><span class="pun">(</span><span class="pln">localhost</span><span class="pun">,</span><span class="pln"> $username</span><span class="pun">,</span><span class="pln"> $password</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$connection</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> &nbsp;</span><span class="kwd">die</span><span class="pun">(</span><span class="str">'Not connected : '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());}</span><span class="pln"> <br><br></span><span class="com">// Set the active MySQL database</span><span class="pln"><br><br>$db_selected </span><span class="pun">=</span><span class="pln"> mysql_select_db</span><span class="pun">(</span><span class="pln">$database</span><span class="pun">,</span><span class="pln"> $connection</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$db_selected</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">die</span><span class="pln"> </span><span class="pun">(</span><span class="str">'Can\'t use db : '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"> <br><br></span><span class="com">// Select all the rows in the markers table</span><span class="pln"><br><br>$query </span><span class="pun">=</span><span class="pln"> </span><span class="str">"SELECT * FROM markers WHERE 1"</span><span class="pun">;</span><span class="pln"><br>$result </span><span class="pun">=</span><span class="pln"> mysql_query</span><span class="pun">(</span><span class="pln">$query</span><span class="pun">);</span><span class="pln"><br></span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">$result</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> &nbsp;<br>&nbsp; </span><span class="kwd">die</span><span class="pun">(</span><span class="str">'Invalid query: '</span><span class="pln"> </span><span class="pun">.</span><span class="pln"> mysql_error</span><span class="pun">());</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"> <br><br>header</span><span class="pun">(</span><span class="str">"Content-type: text/xml"</span><span class="pun">);</span><span class="pln"> <br><br></span><span class="com">// Iterate through the rows, adding XML nodes for each</span><span class="pln"><br><br></span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$row </span><span class="pun">=</span><span class="pln"> </span><span class="lit">@mysql_fetch_assoc</span><span class="pun">(</span><span class="pln">$result</span><span class="pun">)){</span><span class="pln"> &nbsp;<br>&nbsp; </span><span class="com">// ADD TO XML DOCUMENT NODE &nbsp;</span><span class="pln"><br>&nbsp; $node </span><span class="pun">=</span><span class="pln"> $dom</span><span class="pun">-&gt;</span><span class="pln">createElement</span><span class="pun">(</span><span class="str">"marker"</span><span class="pun">);</span><span class="pln"> &nbsp;<br>&nbsp; $newnode </span><span class="pun">=</span><span class="pln"> $parnode</span><span class="pun">-&gt;</span><span class="pln">appendChild</span><span class="pun">(</span><span class="pln">$node</span><span class="pun">);</span><span class="pln"> &nbsp; <br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">"name"</span><span class="pun">,</span><span class="pln">$row</span><span class="pun">[</span><span class="str">'name'</span><span class="pun">]);</span><span class="pln"><br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">"address"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'address'</span><span class="pun">]);</span><span class="pln"> &nbsp;<br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">"lat"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'lat'</span><span class="pun">]);</span><span class="pln"> &nbsp;<br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">"lng"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'lng'</span><span class="pun">]);</span><span class="pln"> &nbsp;<br>&nbsp; $newnode</span><span class="pun">-&gt;</span><span class="pln">setAttribute</span><span class="pun">(</span><span class="str">"type"</span><span class="pun">,</span><span class="pln"> $row</span><span class="pun">[</span><span class="str">'type'</span><span class="pun">]);</span><span class="pln"><br></span><span class="pun">}</span><span class="pln"> <br><br>echo $dom</span><span class="pun">-&gt;</span><span class="pln">saveXML</span><span class="pun">();</span><span class="pln"><br><br></span><span class="pun">?&gt;</span></pre>

<h3>Checking that XML Output Works</h3>
<p class="para"> Call this PHP script from the browser to make sure it's producing
valid XML. If you suspect there's a problem with connecting to your
database, you may find it easier to debug if you remove the line in
the file that sets the header to the <code>text/xml</code> content
type, as that usually causes your browser to try to parse XML and may
make it difficult to see your debugging messages. </p>
<p class="para">

If the script is working correctly, you should see XML output like this 
(<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_expectedoutput.xml" target="_blank">phpsqlajax_expectedoutput.xml</a>):
</p>
<pre class="prettyprint"><span class="tag">&lt;markers&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Pan Africa Market"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"1521 1st Ave, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.608940"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.340141"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"restaurant"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Buddha Thai &amp; Bar"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"2222 2nd Ave, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.613590"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.344391"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"bar"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"The Melting Pot"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"14 Mercer St, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.624561"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.356445"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"restaurant"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Ipanema Grill"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"1225 1st Ave, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.606365"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.337654"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"restaurant"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Sake House"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"2230 1st Ave, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.612823"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.345673"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"bar"</span><span class="tag">/&gt;</span><span class="pln"><br><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Crab Pot"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"1301 Alaskan Way, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.605961"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.340363"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"restaurant"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Mama's Mexican Kitchen"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"2234 2nd Ave, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.613976"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.345467"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"bar"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Wingdome"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"1416 E Olive Way, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.617214"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.326584"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"bar"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;marker</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"Piroshky Piroshky"</span><span class="pln"> </span><span class="atn">address</span><span class="pun">=</span><span class="atv">"1908 Pike pl, Seattle, WA"</span><span class="pln"> </span><span class="atn">lat</span><span class="pun">=</span><span class="atv">"47.610126"</span><span class="pln"> </span><span class="atn">lng</span><span class="pun">=</span><span class="atv">"-122.342834"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"restaurant"</span><span class="tag">/&gt;</span><span class="pln"><br></span><span class="tag">&lt;/markers&gt;</span></pre>
<br>

<h2 id="createmap">Creating the Map</h2>

<p class="para"> Once the XML is working in the browser, it's time to move on to
actually creating the map with JavaScript. If you have never created a
Google Map, please try some of the basic examples in the documentation
to make sure you understand the basics of creating a Google Map. </p>

<h3>Loading the XML File</h3>
<p class="para">
To load the XML file into the page, you can take advantage of the browser-provided
<code><a href="http://www.w3.org/TR/2009/WD-XMLHttpRequest-20090820/">XMLHttpRequest</a></code> object. 
This object lets you retrieve a file
that resides on the same domain as the requesting webpage, and is the basis
of "AJAX" programming. The JS API v2 provided a built-in <code>GDownloadUrl</code>
function that wrapped this functionality, but as API v3 is designed to be
compact, it does not offer an equivalent wrapper function.
</p>
<p>
So, you can define your own function for loading the file, and call it
<code>downloadUrl()</code>. The function takes two parameters:
</p><ol>
<li><code>url</code> specifies the path to either your XML file or to the PHP
script that generates the file, depending if you want the XML to be dynamically
updated when your database changes. It's usually easiest to have this reside
in the same directory as the HTML so that you can just refer to it by filename.
</li><li><code>callback</code> indicates the function that's called when the XML is
returned to the JavaScript.
</li></ol>
<p>
The function declaration is shown below:
</p>
<pre class="prettyprint"><span class="kwd">function</span><span class="pln"> downloadUrl</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln">callback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp;</span><span class="kwd">var</span><span class="pln"> request </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">ActiveXObject</span><span class="pln"> </span><span class="pun">?</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActiveXObject</span><span class="pun">(</span><span class="str">'Microsoft.XMLHTTP'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XMLHttpRequest</span><span class="pun">;</span><span class="pln"><br><br>&nbsp;request</span><span class="pun">.</span><span class="pln">onreadystatechange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">request</span><span class="pun">.</span><span class="pln">readyState </span><span class="pun">==</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;request</span><span class="pun">.</span><span class="pln">onreadystatechange </span><span class="pun">=</span><span class="pln"> doNothing</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp;callback</span><span class="pun">(</span><span class="pln">request</span><span class="pun">,</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">status</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp;</span><span class="pun">}</span><span class="pln"><br>&nbsp;</span><span class="pun">};</span><span class="pln"><br><br>&nbsp;request</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="str">'GET'</span><span class="pun">,</span><span class="pln"> url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp;request</span><span class="pun">.</span><span class="pln">send</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br></span><span class="pun">}</span></pre>

<p class="para"> <strong>Note:</strong> Since
<code>XMLHttpRequest</code> is asynchronous, the callback function
won't be called as soon as you invoke <code>downloadUrl</code>. The
bigger your XML file, the longer it may take. Don't put any code after
<code>downloadUrl</code> that relies on the markers existing
already—put it inside the callback function instead. </p>

<p class="para">
Now that the function is defined, you can call it from your code,
passing in the name of your PHP file and a callback function.
In the callback function, you find all the "marker"
elements in the XML, and iterate through them. For each marker element
found, retrieve the name, address, type, and lat/lng attributes.
Create a marker, adding it to the map, and bind an info window to display
a description when the user clicks on your marker.</p>

<pre class="prettyprint"><span class="pln"><br>downloadUrl</span><span class="pun">(</span><span class="str">"phpsqlajax_genxml.php"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; </span><span class="kwd">var</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">responseXML</span><span class="pun">;</span><span class="pln"><br>&nbsp; </span><span class="kwd">var</span><span class="pln"> markers </span><span class="pun">=</span><span class="pln"> xml</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"marker"</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> markers</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> name </span><span class="pun">=</span><span class="pln"> markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"name"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> address </span><span class="pun">=</span><span class="pln"> markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"address"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"type"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> point </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">LatLng</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; parseFloat</span><span class="pun">(</span><span class="pln">markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"lat"</span><span class="pun">)),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; parseFloat</span><span class="pun">(</span><span class="pln">markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"lng"</span><span class="pun">)));</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> html </span><span class="pun">=</span><span class="pln"> </span><span class="str">"&lt;b&gt;"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">"&lt;/b&gt; &lt;br/&gt;"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> address</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> icon </span><span class="pun">=</span><span class="pln"> customIcons</span><span class="pun">[</span><span class="pln">type</span><span class="pun">]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{};</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> marker </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">Marker</span><span class="pun">({</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; map</span><span class="pun">:</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; position</span><span class="pun">:</span><span class="pln"> point</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; icon</span><span class="pun">:</span><span class="pln"> icon</span><span class="pun">.</span><span class="pln">icon</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; shadow</span><span class="pun">:</span><span class="pln"> icon</span><span class="pun">.</span><span class="pln">shadow<br>&nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; bindInfoWindow</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> infoWindow</span><span class="pun">,</span><span class="pln"> html</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">});</span><span class="pln"><br></span></pre>

<h3>Custom Icons</h3>

<p class="para"> You can specify custom icons and shadows for your markers.</p>

<p class="para"> Start by creating an associative array which associates your
icons to your type strings: 'restaurant' or 'bar.'
This makes the icons easy to reference later when you create markers from the
XML. </p>
<pre class="prettyprint"><span class="kwd">var</span><span class="pln"> customIcons </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; restaurant</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; icon</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_blue.png'</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; shadow</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_shadow.png'</span><span class="pln"><br>&nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; bar</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; icon</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_red.png'</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; shadow</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_shadow.png'</span><span class="pln"><br>&nbsp; </span><span class="pun">}</span><span class="pln"><br></span><span class="pun">};</span></pre>

<h3>Creating Markers &amp; Info Windows</h3>
<p class="para"> When you create your markers, you can retrieve the appropriate
icons by using the type as a key for the associate array
<code>customIcons</code> that you defined above.  Forward the
<code>.icon</code> and <code>.shadow</code> properties as
<code>google.maps.Marker</code> constructor options.  Then, construct
the HTML that you want to show up in the info window by concatenating
the name, address, and some &lt;b&gt;&lt;/b&gt; tags to bold the name. </p>

<p class="para"> <strong>Tip:</strong> Some tutorials instruct you to store
HTML-formatted descriptions in your database, but doing so means you
then have to deal with escaping HTML entities, and you'll be bound to
that HTML output.
 By waiting until you've retrieved each attribute separately in the
 JavaScript, you are free to play around with the HTML on the client
 side and can quickly preview new formatting. </p>

<p class="para">
After constructing the HTML string, call <code>bindInfoWindow</code>.
This adds an event listener to the marker so that when clicked, an
info window is displayed.

</p>
<pre class="prettyprint"><span class="kwd">function</span><span class="pln"> bindInfoWindow</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> infoWindow</span><span class="pun">,</span><span class="pln"> html</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">.</span><span class="pln">addListener</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; infoWindow</span><span class="pun">.</span><span class="pln">setContent</span><span class="pun">(</span><span class="pln">html</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; infoWindow</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">map</span><span class="pun">,</span><span class="pln"> marker</span><span class="pun">);</span><span class="pln"><br>&nbsp; </span><span class="pun">});</span><span class="pln"><br></span><span class="pun">}</span></pre>
<h3>Putting It All Together</h3>
<p class="para">
When the page loads, the <code>load</code> function is called. This
function sets up the map and then calls
<code>downloadUrl</code>. Make sure your <code>downloadUrl</code> is
passing in the file that outputs the XML and that you can preview that
XML in the browser.</p>

<p class="para">The full HTML code is shown below (<a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/articles/phpsqlajax/phpsqlajax_map_v3.html" target="_blank">phpsqlajax_map_v3.html</a>).
</p>

<p></p>
<pre class="prettyprint"><span class="pln"><br></span><span class="dec">&lt;!DOCTYPE html &gt;</span><span class="pln"><br>&nbsp; </span><span class="tag">&lt;head&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"viewport"</span><span class="pln"> </span><span class="atn">content</span><span class="pun">=</span><span class="atv">"initial-scale=1.0, user-scalable=no"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">http-equiv</span><span class="pun">=</span><span class="atv">"content-type"</span><span class="pln"> </span><span class="atn">content</span><span class="pun">=</span><span class="atv">"text/html; charset=UTF-8"</span><span class="tag">/&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;title&gt;</span><span class="pln">PHP/MySQL &amp; Google Maps Example</span><span class="tag">&lt;/title&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="pln"> </span><span class="atn">src</span><span class="pun">=</span><span class="atv">"</span><a href="http://maps.googleapis.com/maps/api/js?sensor=false" target="_blank"><span class="atv">http://maps.googleapis.com/maps/api/js?sensor=false</span></a><span class="atv">"</span><span class="tag">&gt;&lt;/script&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;script</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text/javascript"</span><span class="tag">&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="com">//&lt;![CDATA[</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> customIcons </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; restaurant</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; icon</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_blue.png'</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; shadow</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_shadow.png'</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">},</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; bar</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; icon</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_red.png'</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; shadow</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://labs.google.com/ridefinder/images/mm_20_shadow.png'</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">};</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> load</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> map </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">Map</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">"map"</span><span class="pun">),</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; center</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">LatLng</span><span class="pun">(</span><span class="lit">47.6145</span><span class="pun">,</span><span class="pln"> </span><span class="pun">-</span><span class="lit">122.3418</span><span class="pun">),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; zoom</span><span class="pun">:</span><span class="pln"> </span><span class="lit">13</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; mapTypeId</span><span class="pun">:</span><span class="pln"> </span><span class="str">'roadmap'</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> infoWindow </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">InfoWindow</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; </span><span class="com">// Change this depending on the name of your PHP file</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; downloadUrl</span><span class="pun">(</span><span class="str">"phpsqlajax_genxml.php"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">data</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> xml </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">responseXML</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> markers </span><span class="pun">=</span><span class="pln"> xml</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">.</span><span class="pln">getElementsByTagName</span><span class="pun">(</span><span class="str">"marker"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> markers</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> name </span><span class="pun">=</span><span class="pln"> markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"name"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> address </span><span class="pun">=</span><span class="pln"> markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"address"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> type </span><span class="pun">=</span><span class="pln"> markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"type"</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> point </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">LatLng</span><span class="pun">(</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parseFloat</span><span class="pun">(</span><span class="pln">markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"lat"</span><span class="pun">)),</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; parseFloat</span><span class="pun">(</span><span class="pln">markers</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">getAttribute</span><span class="pun">(</span><span class="str">"lng"</span><span class="pun">)));</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> html </span><span class="pun">=</span><span class="pln"> </span><span class="str">"&lt;b&gt;"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> name </span><span class="pun">+</span><span class="pln"> </span><span class="str">"&lt;/b&gt; &lt;br/&gt;"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> address</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> icon </span><span class="pun">=</span><span class="pln"> customIcons</span><span class="pun">[</span><span class="pln">type</span><span class="pun">]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> </span><span class="pun">{};</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> marker </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="typ">Marker</span><span class="pun">({</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; map</span><span class="pun">:</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; position</span><span class="pun">:</span><span class="pln"> point</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; icon</span><span class="pun">:</span><span class="pln"> icon</span><span class="pun">.</span><span class="pln">icon</span><span class="pun">,</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; shadow</span><span class="pun">:</span><span class="pln"> icon</span><span class="pun">.</span><span class="pln">shadow<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; bindInfoWindow</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> infoWindow</span><span class="pun">,</span><span class="pln"> html</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> bindInfoWindow</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> map</span><span class="pun">,</span><span class="pln"> infoWindow</span><span class="pun">,</span><span class="pln"> html</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; google</span><span class="pun">.</span><span class="pln">maps</span><span class="pun">.</span><span class="pln">event</span><span class="pun">.</span><span class="pln">addListener</span><span class="pun">(</span><span class="pln">marker</span><span class="pun">,</span><span class="pln"> </span><span class="str">'click'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; infoWindow</span><span class="pun">.</span><span class="pln">setContent</span><span class="pun">(</span><span class="pln">html</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; infoWindow</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="pln">map</span><span class="pun">,</span><span class="pln"> marker</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">});</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> downloadUrl</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="kwd">var</span><span class="pln"> request </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="typ">ActiveXObject</span><span class="pln"> </span><span class="pun">?</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ActiveXObject</span><span class="pun">(</span><span class="str">'Microsoft.XMLHTTP'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">XMLHttpRequest</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; request</span><span class="pun">.</span><span class="pln">onreadystatechange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">request</span><span class="pun">.</span><span class="pln">readyState </span><span class="pun">==</span><span class="pln"> </span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; request</span><span class="pun">.</span><span class="pln">onreadystatechange </span><span class="pun">=</span><span class="pln"> doNothing</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; callback</span><span class="pun">(</span><span class="pln">request</span><span class="pun">,</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">status</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; </span><span class="pun">};</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; request</span><span class="pun">.</span><span class="pln">open</span><span class="pun">(</span><span class="str">'GET'</span><span class="pun">,</span><span class="pln"> url</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; request</span><span class="pun">.</span><span class="pln">send</span><span class="pun">(</span><span class="kwd">null</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">function</span><span class="pln"> doNothing</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{}</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="com">//]]&gt;</span><span class="pln"><br><br>&nbsp; </span><span class="tag">&lt;/script&gt;</span><span class="pln"><br><br>&nbsp; </span><span class="tag">&lt;/head&gt;</span><span class="pln"><br><br>&nbsp; </span><span class="tag">&lt;body</span><span class="pln"> </span><span class="atn">onload</span><span class="pun">=</span><span class="atv">"</span><span class="pln">load</span><span class="pun">()</span><span class="atv">"</span><span class="tag">&gt;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="tag">&lt;div</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"map"</span><span class="pln"> </span><span class="atn">style</span><span class="pun">=</span><span class="atv">"</span><span class="kwd">width</span><span class="pun">:</span><span class="pln"> </span><span class="lit">500px</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">300px</span><span class="atv">"</span><span class="tag">&gt;&lt;/div&gt;</span><span class="pln"><br>&nbsp; </span><span class="tag">&lt;/body&gt;</span><span class="pln"><br><br></span><span class="tag">&lt;/html&gt;</span><span class="pln"><br></span></pre>

<p>The map should look like this when loaded:</p>
<p><img src="phpsqlajax_v3_files/screenshot_phpsqlajax_v3.png">
  </p>

</div>

  </div>

        </div>
        
<div id="gc-content-footer">



<div itemprop="datePublished" content="2012-06-27T21:33:18.835544" id="gc-content-last-updated">Last updated June 27, 2012.</div>

</div>




      </div>

      </div>
      

      
      
      <footer id="gc-footer">
        <div id="gc-copyright">
          <a href="https://developers.google.com/">
            <img id="developers-logo-footer" src="phpsqlajax_v3_files/developers-logo-footer.png" alt="Google Developers logo" style="vertical-align: center; float: left">
          </a>
          <ul>
            <li><a href="http://www.google.com/">Google</a></li>
            <li><a href="https://developers.google.com/readme/terms">Terms of Service</a></li>
            <li><a href="http://www.google.com/intl/en/privacy/">Privacy Policy</a></li>
            <li><a href="https://developers.google.com/jobs">Jobs</a></li>
            <li><a class="google-feedback" data-p="81425" data-b="Documentation" data-v="devsite-20121001-rc00.362150739779064226" href="">Report a bug</a></li>
          </ul>
        </div>
        
        <div id="gc-language">
          <ul>
            <li>
              <form id="setlang" action="/i18n/setlang/" method="post">
                <div style="display:none"><input name="csrfmiddlewaretoken" value="6da1e0f822c2cffe2d0dc74e9c3ace8b" type="hidden"></div>
                <select style="display: none;" id="footer_language" name="language">
                  
                  
                  <option value="ar">
                    العربيّة
                  </option>
                  
                  <option value="bg">
                    български
                  </option>
                  
                  <option value="ca">
                    català
                  </option>
                  
                  <option value="zh-cn">
                    简体中文
                  </option>
                  
                  <option value="zh-tw">
                    繁體中文
                  </option>
                  
                  <option value="hr">
                    Hrvatski
                  </option>
                  
                  <option value="cs">
                    česky
                  </option>
                  
                  <option value="da">
                    Dansk
                  </option>
                  
                  <option value="nl">
                    Nederlands
                  </option>
                  
                  <option value="en" selected="selected">
                    English
                  </option>
                  
                  <option value="fa">
                    فارسی
                  </option>
                  
                  <option value="fi">
                    suomi
                  </option>
                  
                  <option value="fr">
                    Français
                  </option>
                  
                  <option value="de">
                    Deutsch
                  </option>
                  
                  <option value="el">
                    Ελληνικά
                  </option>
                  
                  <option value="he">
                    עברית
                  </option>
                  
                  <option value="hi">
                    Hindi
                  </option>
                  
                  <option value="hu">
                    Magyar
                  </option>
                  
                  <option value="id">
                    Bahasa Indonesia
                  </option>
                  
                  <option value="it">
                    italiano
                  </option>
                  
                  <option value="ja">
                    日本語
                  </option>
                  
                  <option value="ko">
                    한국어
                  </option>
                  
                  <option value="lv">
                    latviešu
                  </option>
                  
                  <option value="lt">
                    Lithuanian
                  </option>
                  
                  <option value="nb">
                    Norsk (bokmål)
                  </option>
                  
                  <option value="nn">
                    Norsk (nynorsk)
                  </option>
                  
                  <option value="pl">
                    polski
                  </option>
                  
                  <option value="pt-br">
                    Português Brasileiro
                  </option>
                  
                  <option value="pt">
                    Português
                  </option>
                  
                  <option value="ro">
                    Română
                  </option>
                  
                  <option value="ru">
                    Русский
                  </option>
                  
                  <option value="sr">
                    српски
                  </option>
                  
                  <option value="sk">
                    slovenský
                  </option>
                  
                  <option value="sl">
                    Slovenščina
                  </option>
                  
                  <option value="es">
                    español
                  </option>
                  
                  <option value="sv">
                    Svenska
                  </option>
                  
                  <option value="th">
                    Thai
                  </option>
                  
                  <option value="tr">
                    Türkçe
                  </option>
                  
                  <option value="uk">
                    Українська
                  </option>
                  
                  <option value="vi">
                    Vietnamese
                  </option>
                  
                </select><span class="kd-button kd-menubutton kd-select"><div style="display: inline-block;"><div style="float: left;" class="label">
                    English
                  </div><div class="kd-disclosureindicator"></div></div></span>
              </form>
            </li>
          </ul>
        </div>
        
      </footer>
      
      
    </div>
    <div id="needAuth" class="msgDialogContent">
      
      <h1>Authentication required</h1>
      
      <div>
        You need to be signed in with <a href="http://www.google.com/+">Google+</a> to do that.
      </div>
      <button>Sign in</button>
      <button>Cancel</button>
    </div>
    <div id="signingIn" class="msgDialogContent">
      
      <h1>Signing you in...</h1>
      <div>
        
        Google Developers needs your permission to do that.
      </div>
      
      <button>Try again</button>
      
      <button>Cancel</button>
    </div>
    <script src="phpsqlajax_v3_files/script_foot.js"></script>
    <script>
      (function($) {
        devsite.devsite.Init($, null, '');
      })(jQuery);

      
      devsite.localInit = function() {
        
      };
      
    </script>
    <!-- Google Code for PXL - Developers - Codesite - HP - 90d Remarketing List -->
    <script type="text/javascript">
    $('#setlang select').each(function() {
      if ($.browser.msie) {
        $(this).change(function() {
          $('#setlang').submit();
        });
      } else {
        $(this).kdSelect({'change': function() {
          $('#setlang').submit();
        }});
      }
    });
    </script><ul class="kd-menulist" style="position: absolute; left: 758px; top: 12256.6px; display: none;"><li style="" class="kd-menulistitem">
                    العربيّة
                  </li><li class="kd-menulistitem">
                    български
                  </li><li class="kd-menulistitem">
                    català
                  </li><li class="kd-menulistitem">
                    简体中文
                  </li><li class="kd-menulistitem">
                    繁體中文
                  </li><li class="kd-menulistitem">
                    Hrvatski
                  </li><li class="kd-menulistitem">
                    česky
                  </li><li class="kd-menulistitem">
                    Dansk
                  </li><li class="kd-menulistitem">
                    Nederlands
                  </li><li class="kd-menulistitem selected">
                    English
                  </li><li class="kd-menulistitem">
                    فارسی
                  </li><li class="kd-menulistitem">
                    suomi
                  </li><li class="kd-menulistitem">
                    Français
                  </li><li class="kd-menulistitem">
                    Deutsch
                  </li><li class="kd-menulistitem">
                    Ελληνικά
                  </li><li class="kd-menulistitem">
                    עברית
                  </li><li class="kd-menulistitem">
                    Hindi
                  </li><li class="kd-menulistitem">
                    Magyar
                  </li><li class="kd-menulistitem">
                    Bahasa Indonesia
                  </li><li class="kd-menulistitem">
                    italiano
                  </li><li class="kd-menulistitem">
                    日本語
                  </li><li class="kd-menulistitem">
                    한국어
                  </li><li class="kd-menulistitem">
                    latviešu
                  </li><li class="kd-menulistitem">
                    Lithuanian
                  </li><li class="kd-menulistitem">
                    Norsk (bokmål)
                  </li><li class="kd-menulistitem">
                    Norsk (nynorsk)
                  </li><li class="kd-menulistitem">
                    polski
                  </li><li class="kd-menulistitem">
                    Português Brasileiro
                  </li><li class="kd-menulistitem">
                    Português
                  </li><li class="kd-menulistitem">
                    Română
                  </li><li class="kd-menulistitem">
                    Русский
                  </li><li class="kd-menulistitem">
                    српски
                  </li><li class="kd-menulistitem">
                    slovenský
                  </li><li class="kd-menulistitem">
                    Slovenščina
                  </li><li class="kd-menulistitem">
                    español
                  </li><li class="kd-menulistitem">
                    Svenska
                  </li><li class="kd-menulistitem">
                    Thai
                  </li><li class="kd-menulistitem">
                    Türkçe
                  </li><li class="kd-menulistitem">
                    Українська
                  </li><li class="kd-menulistitem">
                    Vietnamese
                  </li></ul>
    <script type="text/javascript">
      /* <![CDATA[ */
      var google_conversion_id = 992540712;
      var google_conversion_language = "en";
      var google_conversion_format = "3";
      var google_conversion_color = "ffffff";
      var google_conversion_label = "qio2CKCPwQMQqPCj2QM";
      var google_conversion_value = 0;
      /* ]]> */
    </script>
    <script type="text/javascript" src="phpsqlajax_v3_files/conversion.js">
    </script><img src="phpsqlajax_v3_files/a.gif" border="0" height="1" width="1">
    <noscript>
      <div style="display:inline;">
        <img height="1" width="1" style="border-style:none;" alt="" src="//www.googleadservices.com/pagead/conversion/992540712/?label=qio2CKCPwQMQqPCj2QM&amp;guid=ON&amp;script=0"/>
      </div>
    </noscript>
    





<script type="text/javascript">
$(document).ready(function(e) {
    // Render any carousels on the page
    $('.carousel').carousel();
    // Render any feed widgets on the page
    
    $('.feed').rss();
    $('.feed-plain').rss();
    // Render any OSS widgets on the page.
    $('.oss').oss();
    });
</script>

<script type="text/javascript" defer="defer">


$(document).ready(function() {
    contentTimer.name = 'content';
    contentTimer.tick('ol');
    window.jstiming.report(contentTimer);

    // Boilerplate javascript to enable the plusone button
    var po = document.createElement('script'); po.type = 'text/javascript';
    po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js?onload=devsite_plusoneLoaded';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(po, s);
});
</script>




  

</body></html>