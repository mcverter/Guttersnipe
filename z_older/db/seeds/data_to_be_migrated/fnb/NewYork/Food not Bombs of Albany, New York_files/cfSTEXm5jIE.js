if (self.CavalryLogger) { CavalryLogger.start_js(["m+llf"]); }

__d("VideoEditSource",[],(function a(b,c,d,e,f,g){f.exports={PROCESSING_DIALOG:"processing_dialog",OPTIMISTIC_VIDEO_POST:"optimistic_video_post",VIDEO_ASSET_INSIGHTS:"video_asset_insights",PERMALINK:"permalink",TIMELINE:"timeline",SNOWLIFT:"snowlift",LIBRARY:"library",REFERENCE_LIBRARY:"reference_library",CAROUSEL_PREVIEW:"carousel_preview",PAGE_VIDEO_LPP_PUBLISH:"page_video_lpp_publish",SCHEDULE_LIVE_STORY:"schedule_live_story",UNKNOWN:"unknown"};}),null);
__d('SubscriptionLevels',[],(function a(b,c,d,e,f,g){var h={ALL:'162318810514679',DEFAULT:'271670892858696',TOP:'266156873403755'};f.exports=h;}),null);
__d('EditSubscriptions',['csx','cx','Arbiter','AsyncRequest','CSS','DOM','Event','FeedBlacklistButton','MenuDeprecated','Parent','SubscriptionLevels','arrayContains','ge','getOrCreateDOMID'],(function a(b,c,d,e,f,g,h,i){var j=45,k=[c('SubscriptionLevels').ALL,c('SubscriptionLevels').DEFAULT,c('SubscriptionLevels').TOP],l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w="/ajax/follow/follow_profile.php",x="/ajax/follow/unfollow_profile.php",y="/ajax/settings/notifications/notify_me.php",z={},aa={},ba={},ca=null,da={};function ea(cb){return c('arrayContains')(k,cb);}function fa(cb,db,eb,fb){var gb=c('Parent').byClass(fb,'uiMenuItem')||c('Parent').bySelector(fb,"._54ni"),hb=c('getOrCreateDOMID')(cb);if(!gb||!c('DOM').contains(cb,gb)){return;}else if(c('CSS').hasClass(gb,'SubscribeMenuSubscribeCheckbox')){if(n[db]){ka(hb,db);}else ja(hb,db);return false;}else if(c('CSS').hasClass(gb,'SubscribeMenuUnsubscribe')){ka(hb,db);return false;}else if(c('CSS').hasClass(gb,'SubscribeMenuSettingsItem')){wa(cb,true);return false;}else if(c('CSS').hasClass(gb,'SubscriptionMenuGoBack')){wa(cb,false);return false;}else if(c('CSS').hasClass(gb,'SubscriptionMenuItem')){ha(cb,db,eb,gb);return false;}else if(c('CSS').hasClass(gb,'SubscribeMenuNotifyMeCheckbox')){ga(cb,db);return false;}}function ga(cb,db){if(o[db]){ab(cb,db);}else za(cb,db);}function ha(cb,db,eb,fb){if(c('CSS').hasClass(fb,'SubscriptionMenuLevel')){if(c('MenuDeprecated').isItemChecked(fb))return;ua(cb,db,na(fb),true,eb);}else if(c('CSS').hasClass(fb,'SubscriptionMenuCategory')){ra(db,fb,!c('MenuDeprecated').isItemChecked(fb),true,eb);}else if(c('CSS').hasClass(fb,'SubscriptionAppStory'))ta(db,fb,!c('MenuDeprecated').isItemChecked(fb),eb);}function ia(cb){return da[cb]?da[cb]:0;}function ja(cb,db){var eb={profile_id:db};c('Arbiter').inform('FollowingUser',eb);c('Arbiter').inform(c('FeedBlacklistButton').UNBLACKLIST,eb);new (c('AsyncRequest'))().setURI(w).setMethod('POST').setData({profile_id:db,location:ia(cb)}).setErrorHandler(c('Arbiter').inform.bind(null,'FollowUserFail',eb)).send();}function ka(cb,db){var eb={profile_id:db};c('Arbiter').inform('UnfollowingUser',eb);c('Arbiter').inform(c('FeedBlacklistButton').BLACKLIST,eb);new (c('AsyncRequest'))().setURI(x).setMethod('POST').setData({profile_id:db,location:ia(cb)}).setErrorHandler(c('Arbiter').inform.bind(null,'UnfollowUserFail',eb)).send();}function la(cb,db,eb){var fb={profile_id:cb,level:s[cb],custom_categories:t[cb],location:eb};new (c('AsyncRequest'))().setURI('/ajax/follow/manage_subscriptions.php').setData(fb).send();}function ma(cb,db){var eb=t[db]||[],fb=c('MenuDeprecated').getItems(cb);fb.forEach(function(gb){if(c('CSS').hasClass(gb,'SubscriptionMenuCategory')){var hb=na(gb);if(c('arrayContains')(eb,hb)){pa(gb);}else qa(gb);}else if(c('CSS').hasClass(gb,'SubscriptionAppStory')){var ib=na(gb);if(ba[db]&&ba[db][ib]){pa(gb);}else qa(gb);}});ua(cb,db,s[db],false);}function na(cb){var db=c('DOM').scry(cb,'input')[0];return db&&db.value;}function oa(cb){return c('DOM').find(cb,'a.itemAnchor');}function pa(cb){c('CSS').addClass(cb,'checked');oa(cb).setAttribute('aria-checked',true);}function qa(cb){c('CSS').removeClass(cb,'checked');oa(cb).setAttribute('aria-checked',false);}function ra(cb,db,eb,fb,gb){if(eb){pa(db);}else qa(db);var hb=na(db);if(ea(hb)){eb&&sa(cb,hb);}else if(eb){if(!c('arrayContains')(t[cb],hb))t[cb].push(hb);}else{var ib=t[cb].indexOf(hb);if(ib!==-1)t[cb].splice(ib,1);}if(fb)la(cb,hb,gb);}function sa(cb,db){s[cb]=db;c('Arbiter').inform('SubscriptionLevelUpdated',{profile_id:cb,level:db});}function ta(cb,db,eb,fb){var gb='/ajax/feed/filter_action/',hb=na(db),ib={actor_id:cb,app_id:hb};if(eb){pa(db);gb+='resubscribe_user_app/';ib.action='resubscribe_user_app';if(!ba[cb])ba[cb]={};ba[cb][hb]=true;}else{qa(db);gb+='unsubscribe_user_app_checkbox/';ib.action='unsubscribe_user_app_checkbox';if(ba[cb])ba[cb][hb]=false;}new (c('AsyncRequest'))().setURI(gb).setData(ib).send();}function ua(cb,db,eb,fb,gb){var hb=c('DOM').scry(cb,'.SubscriptionMenuLevel'),ib=null;hb.forEach(function(jb){if(na(jb)==eb){ib=jb;}else if(c('MenuDeprecated').isItemChecked(jb))ra(db,jb,false,false);});ib&&ra(db,ib,true,fb,gb);}function va(cb,db,eb){n[db]=eb;c('CSS').conditionClass(cb,'isUnsubscribed',!eb);var fb=c('DOM').scry(cb,'li.SubscribeMenuSubscribeCheckbox');if(fb.length!==0){var gb=fb[0];if(eb){pa(gb);}else qa(gb);}}function wa(cb,db){c('CSS').conditionClass(cb,'subscriptionMenuOpen',db);}function xa(cb,db,eb){var fb=c('DOM').find(cb,".FriendListSubscriptionsMenu"),gb=c('DOM').find(fb,".uiMenuInner");if(ca!=null)ca.forEach(function(hb){gb.removeChild(hb);});eb.forEach(function(hb){gb.appendChild(hb);});ca=eb;}c('Arbiter').subscribe('UnfollowUser',function(cb,db){if(u[db.profile_id]){sa(db.profile_id,u[db.profile_id]);t[db.profile_id]=v[db.profile_id].slice();}});c('Arbiter').subscribe('UpdateSubscriptionLevel',function(cb,db){var eb=db.profile_id+'',fb=db.level+'';sa(eb,fb);var gb;for(gb in l)if(l[gb]===eb){var hb=c('ge')(gb);hb&&ua(hb,eb,fb,false);}});c('Arbiter').subscribe('listeditor/close_editor',function(){var cb;for(cb in l){var db=c('ge')(cb);db&&wa(db,false);}});function ya(cb,db,eb){o[db]=eb;var fb=aa[db];if(fb){if(eb){fb.select();}else fb.deselect();return;}var gb=c('DOM').scry(cb,'li.SubscribeMenuNotifyMeCheckbox');if(gb.length!==0){var hb=gb[0];c('CSS').conditionShow(hb,true);var ib=c('DOM').scry(cb,'li.SubscribeMenuNotifyMeCheckboxSeparator');if(ib.length>0)c('CSS').conditionShow(ib[0],true);if(eb){pa(hb);}else qa(hb);}}function za(cb,db){var eb={profile_id:db};c('Arbiter').inform('EnableNotifsForUser',eb);new (c('AsyncRequest'))().setURI(y).setMethod('POST').setData({notifier_id:db,enable:true}).setErrorHandler(c('Arbiter').inform.bind(null,'EnableNotifsForUserFail',eb)).send();}function ab(cb,db){var eb={profile_id:db};c('Arbiter').inform('DisableNotifsForUser',eb);new (c('AsyncRequest'))().setURI(y).setMethod('POST').setData({notifier_id:db,enable:false}).setErrorHandler(c('Arbiter').inform.bind(null,'DisableNotifsForUserFail',eb)).send();}var bb={init:function cb(db,eb,fb){var gb=c('getOrCreateDOMID')(db);da[gb]=fb;if(!l[gb])c('Event').listen(db,'click',function(hb){return fa(db,l[gb],fb,hb.getTarget());});if(fb===j&&z[eb].length)xa(db,eb,z[eb]);if(s[eb])ma(db,eb);l[gb]=eb;c('CSS').conditionClass(db,'NonFriendSubscriptionMenu',!m[eb]);c('CSS').conditionClass(db,'cannotSubscribe',!p[eb]);c('CSS').conditionClass(db,'noSubscriptionLevels',q[eb]&&!r[eb]);c('CSS').conditionClass(db,'noSubscribeCheckbox',!m[eb]&&!q[eb]);va(db,eb,n[eb]);ya(db,eb,o[eb]);c('Arbiter').subscribe(['FollowUser','FollowingUser','UnfollowUserFail'],function(hb,ib){if(ib.profile_id==eb)va(db,eb,true);}.bind(this));c('Arbiter').subscribe(['UnfollowUser','UnfollowingUser','FollowUserFail'],function(hb,ib){if(ib.profile_id==eb){c('Arbiter').inform('SubMenu/Reset');va(db,eb,false);}}.bind(this));c('Arbiter').subscribe(['EnableNotifsForUser','DisableNotifsForUserFail'],function(hb,ib){if(ib.profile_id==eb)ya(db,eb,true);}.bind(this));c('Arbiter').subscribe(['DisableNotifsForUser','EnableNotifsForUserFail'],function(hb,ib){if(ib.profile_id==eb)ya(db,eb,false);}.bind(this));c('Arbiter').subscribe('listeditor/friend_lists_changed',function(hb,ib){if(ib.notify_state){var jb=ib.added_uid?ib.added_uid:ib.removed_uid;ya(db,jb,ib.notify_state.is_notified);}}.bind(this));},getSubscriptions:function cb(db){return {level:s[db],custom_categories:t[db]};},registerTimelineNotifySelector:function cb(db,eb){var fb=db.getInitialMenu(),gb=db.getContentRoot();fb.forEachItem(function(hb){var ib=hb.getRoot();if(c('CSS').hasClass(ib,'SubscribeMenuNotifyMeCheckbox')){aa[eb]=hb;ya(gb,eb,o[eb]);}});fb.subscribe('itemclick',function(hb,ib){if(ib.item===aa[eb])ga(gb,eb);return true;});},toggleNotificationsOnJoin:function cb(db,eb){if(o[db]!==eb)ga(null,db);},setSubscriptions:function cb(db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob){sa(db,jb+'');m[db]=eb;n[db]=fb;p[db]=gb;q[db]=hb;r[db]=ib;u[db]=lb+'';t[db]=kb.map(String);v[db]=mb.map(String);z[db]=ob;o[db]=nb;}};f.exports=b.EditSubscriptions||bb;}),null);
__d('PopoverMenuShowOnHover',['Event'],(function a(b,c,d,e,f,g){var h=250;function i(j){'use strict';this._popoverMenu=j;this._listeners=[];}i.prototype.enable=function(){'use strict';this._attachMouseListeners(this._popoverMenu.getTriggerElem());this._setMenuSubscription=this._popoverMenu.subscribe('setMenu',this._onSetMenu.bind(this));};i.prototype.disable=function(){'use strict';while(this._listeners.length)this._listeners.pop().remove();if(this._setMenuSubscription){this._setMenuSubscription.unsubscribe();this._setMenuSubscription=null;}};i.prototype._onSetMenu=function(){'use strict';this._attachMouseListeners(this._popoverMenu.getPopover().getLayer().getRoot());};i.prototype._attachMouseListeners=function(j){'use strict';var k=this._popoverMenu.getPopover(),l=null;this._listeners.push(c('Event').listen(j,'mouseleave',k.hideLayer.bind(k)),c('Event').listen(j,'mouseenter',function(){l=Date.now();k.showLayer();}),c('Event').listen(j,'click',function(m){if(Date.now()<l+h)m.stop();}));};f.exports=i;}),null);
__d('PagesComposerUnpublishedPostsStore',['ReactComposerStoreBase','PagesComposerActionsTypes'],(function a(b,c,d,e,f,g){var h,i,j={isDraft:false,scheduledPublishTime:null,backdateConfig:null,isAdsPost:false,stopFeedDistributionDate:null,isOfferUpsellShown:false,isOfferUpsellAbandoned:false,offerConfig:null};h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return Object.assign({},j);},function(m){switch(m.type){case c('PagesComposerActionsTypes').BACKDATE:l&&l.$PagesComposerUnpublishedPostsStore1(m);break;case c('PagesComposerActionsTypes').SET_DRAFT:l&&l.$PagesComposerUnpublishedPostsStore2(m);break;case c('PagesComposerActionsTypes').SCHEDULE:l&&l.$PagesComposerUnpublishedPostsStore3(m);break;case c('PagesComposerActionsTypes').SET_ADS_POST:l&&l.$PagesComposerUnpublishedPostsStore4(m);break;case c('PagesComposerActionsTypes').SHOW_OFFER_UPSELL:l&&l.$PagesComposerUnpublishedPostsStore5(m);break;case c('PagesComposerActionsTypes').ABANDON_OFFER_UPSELL:l&&l.$PagesComposerUnpublishedPostsStore6(m);break;}});l=this;}k.prototype.getBackdateConfig=function(l){'use strict';return this.getComposerData(l).backdateConfig;};k.prototype.getIsDraft=function(l){'use strict';return this.getComposerData(l).isDraft;};k.prototype.getScheduledPublishTime=function(l){'use strict';return this.getComposerData(l).scheduledPublishTime;};k.prototype.getStopFeedDistributionTime=function(l){'use strict';return this.getComposerData(l).stopFeedDistributionDate;};k.prototype.getIsAdsPost=function(l){'use strict';return this.getComposerData(l).isAdsPost;};k.prototype.getIsOfferUpsellShown=function(l){'use strict';return this.getComposerData(l).isOfferUpsellShown;};k.prototype.getIsOfferUpsellAbandoned=function(l){'use strict';return this.getComposerData(l).isOfferUpsellAbandoned;};k.prototype.getOfferConfig=function(l){'use strict';return this.getComposerData(l).offerConfig;};k.prototype.$PagesComposerUnpublishedPostsStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.backdateConfig={year:l.year,month:l.month,day:l.day,hideFromNewsFeed:l.hideFromNewsFeed};};k.prototype.$PagesComposerUnpublishedPostsStore3=function(l){'use strict';var m=this.getComposerData(l.composerID);m.scheduledPublishTime=l.scheduleDate;m.stopFeedDistributionDate=l.stopFeedDistributionDate;};k.prototype.$PagesComposerUnpublishedPostsStore2=function(l){'use strict';var m=this.getComposerData(l.composerID);m.isDraft=true;};k.prototype.$PagesComposerUnpublishedPostsStore4=function(l){'use strict';var m=this.getComposerData(l.composerID);m.isAdsPost=true;};k.prototype.$PagesComposerUnpublishedPostsStore5=function(l){'use strict';var m=this.validateAction(l,['composerID','config']),n=m[0],o=m[1],p=this.getComposerData(n);p.offerConfig=o;p.isOfferUpsellShown=true;this.emitChange(n);};k.prototype.$PagesComposerUnpublishedPostsStore6=function(l){'use strict';var m=this.getComposerData(l.composerID);m.isOfferUpsellAbandoned=true;};f.exports=new k();}),null);
__d('ReactComposerFocusStore',['ReactComposerFocusActionTypes','ReactComposerStoreBase'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){var k=void 0;i.constructor.call(this,function(){return {focusConfig:{},isFocused:false};},function(l){if(!k)return;switch(l.type){case c('ReactComposerFocusActionTypes').SUBSCRIBE:k.$ReactComposerFocusStore1(l.composerID,l.onFocusAcquiredCallback,l.onFocusLostCallback);k.emitChange(l.composerID);break;case c('ReactComposerFocusActionTypes').UNSUBSCRIBE:k.$ReactComposerFocusStore2(l.composerID);k.emitChange(l.composerID);break;case c('ReactComposerFocusActionTypes').FOCUS_ACQUIRED:k.$ReactComposerFocusStore3(l.composerID);k.emitChange(l.composerID);break;case c('ReactComposerFocusActionTypes').FOCUS_LOST:k.$ReactComposerFocusStore4(l.composerID);k.emitChange(l.composerID);break;}});k=this;}j.prototype.$ReactComposerFocusStore1=function(k,l,m){var n=this.getComposerData(k);n.focusConfig={onFocusAcquiredCallback:l,onFocusLostCallback:m};};j.prototype.$ReactComposerFocusStore2=function(k){var l=this.getComposerData(k);l.focusConfig={};};j.prototype.$ReactComposerFocusStore3=function(k){var l=this.getComposerData(k);if(l.focusConfig.onFocusAcquiredCallback)setTimeout(l.focusConfig.onFocusAcquiredCallback,0);l.isFocused=true;};j.prototype.$ReactComposerFocusStore4=function(k){var l=this.getComposerData(k);if(l.focusConfig.onFocusLostCallback)setTimeout(l.focusConfig.onFocusLostCallback,0);l.isFocused=false;};j.prototype.isComposerFocused=function(k){return this.getComposerData(k).isFocused;};f.exports=new j();}),null);
__d("XAfterPartyWWWController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/afterparty\/www\/",{page_id:{type:"Int",required:true},scrolling_offset:{type:"Int",defaultValue:0}});}),null);
__d("XUnpublishedPostSuccessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pages\/unpublished_posts\/post_success\/",{type:{type:"String",required:true}});}),null);
__d('PagesComposer',['csx','cx','ActorURI','Arbiter','AsyncRequest','Bootloader','ReactComposerFocusStore','ComposerXMarauderLogger','ComposerXStore','DOM','PagesComposerUnpublishedPostsStore','Parent','ReloadPage','Run','XUnpublishedPostSuccessController','XAfterPartyWWWController','$','getObjectValues','goURI'],(function a(b,c,d,e,f,g,h,i){var j=500,k=20,l=58,m,n;function o(){c('ComposerXMarauderLogger').logCompleted(m.id);}function p(s){if(s.hidePost){var t=c('ComposerXStore').getAllForComposer(m.id);if(!c('getObjectValues')(t).length){var u=null;if(c('PagesComposerUnpublishedPostsStore').getIsDraft(m.id))u='draft';if(c('PagesComposerUnpublishedPostsStore').getScheduledPublishTime(m.id))u='scheduled';if(u){var v=c('XUnpublishedPostSuccessController').getURIBuilder().setString('type',u).getURI();v=c('ActorURI').create(v,n);new (c('AsyncRequest'))().setURI(v).send();}}o();return;}if(s.redirect){var t=c('ComposerXStore').getAllForComposer(m.id);c('getObjectValues')(t).forEach(function(y){if(y.reset)y.reset(y);});c('goURI')(s.redirect);o();return;}if(!s.streamStory){c('ReloadPage').now();return;}if(s.backdatedTime){c('Bootloader').loadModules(["PagesStoryPublisher"],function(y){y.publish(s);},'PagesComposer');o();return;}var w=r.renderStory(m,s.streamStory);c('Arbiter').inform('TimelineComposer/on_after_publish',w,c('Arbiter').BEHAVIOR_PERSISTENT);if(n){var x=c('XAfterPartyWWWController').getURIBuilder().setInt('page_id',n);q(x,0);}o();}function q(s,t){if(!c('ReactComposerFocusStore').isComposerFocused(m.id)){if(t>0)s.setInt('scrolling_offset',l);new (c('AsyncRequest'))().setURI(s.getURI()).send();}else if(t<k)setTimeout(q.bind(this,s,t+1),j);}var r={init:function s(t,u){m=c('$')(t);n=u;var v=c('Arbiter').subscribe('composer/publish',function(event,w){if(w.composer_id===m.id)p(w);});c('Run').onLeave(v.unsubscribe.bind(v));},renderStory:function s(t,u){var v=c('Parent').bySelector(t,"._2gqw");if(!v)return;var w=c('DOM').scry(v,"._5sem")[0],x=c('DOM').prependContent(w,u)[0];c('Bootloader').loadModules(["Animation"],function(y){new y(x).from('backgroundColor','#fff8dd').to('backgroundColor','#fff').duration(2000).ease(y.ease.both).go();},'PagesComposer');return x;},replaceByID:function s(t,u){c('DOM').replace(c('$')(t),u);}};f.exports=b.PagesComposer||r;}),null);