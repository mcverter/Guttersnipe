!function(n,t){if(n.Webtrends){var r={plugMap:{},getKeys:function(e,n){for(var t in e)e.hasOwnProperty(t)&&n.push(t);return n},AtoO:function(e){for(var n={},t=0;t<e.length;++t)n[e[t]]=!0;return n},getURLKeepParms:function(e){if(e.hmurlparams&&e.hmurlparams.length>0){var t=e.hmurlparams.split(",");urlParams=r.AtoO(t);for(var a=[],o=Webtrends.getQryParams(n.location.search),i=r.getKeys(o,[]).sort(),s=0;s<i.length;++s)urlParams[i[s]]&&(a.push(i[s]),a.push(o[i[s]]));return a.join(",")}return""},hm_clickEvent:function(a,o){var i=r.plugMap[a.dcssID];if(i){e=o.event||n.event,window.history.pushState&&window.history.replaceState&&("function"==typeof i.dcsVar&&"function"==typeof i.dcsMeta?(i.dcsVar(),i.dcsMeta()):"function"==typeof i.$a&&"function"==typeof i.Wa&&(i.$a(),i.Wa()));var s=0,c=0;"number"==typeof n.innerWidth?(s=n.innerWidth,c=n.innerHeight):t.documentElement&&(t.documentElement.clientWidth||t.documentElement.clientHeight)?(s=t.documentElement.clientWidth,c=t.documentElement.clientHeight):t.body&&(t.body.clientWidth||t.body.clientHeight)&&(s=t.body.clientWidth,c=t.body.clientHeight);var l=0,m=0;if("number"==typeof n.pageYOffset?(m=n.pageYOffset,l=n.pageXOffset):t.body&&(t.body.scrollLeft||t.body.scrollTop)?(m=t.body.scrollTop,l=t.body.scrollLeft):t.documentElement&&(t.documentElement.scrollLeft||t.documentElement.scrollTop)&&(m=t.documentElement.scrollTop,l=t.documentElement.scrollLeft),!(e.clientX>s||e.clientX<0||e.clientY>c||e.clientY<0||"NaN"==e.clientX||"NaN"==l||"NaN"==s||"Nan"==c)){var d=e.clientX+l,p=e.clientY+m;i.mTrackOptions.args||(i.mTrackOptions.args={}),i.mTrackOptions.args["WT.dl"]="125",i.mTrackOptions.args["WT.hm_x"]=d,i.mTrackOptions.args["WT.hm_y"]=p,i.mTrackOptions.args["WT.hm_w"]=s,i.mTrackOptions.args["WT.hm_h"]=c,i.mTrackOptions.args["WT.hm_tv"]="10.2.89",i.urlKeepParams&&(i.mTrackOptions.args["WT.hm_url"]=i.urlKeepParams),i.dcsMultiTrack(i.mTrackOptions)}}},hm_loader:function(e,n){if(!n.filter||!n.filter()){var t=new Webtrends.dcs,a={dcsid:n.dcsid?n.dcsid:e.dcsid,domain:n.domain?n.domain:"hm.webtrends.com",timezone:e.timezone,i18n:e.i18n,vtid:e.vtid,enabled:e.enabled,privateFlag:!0};if(e.FPCConfig){var o={},i={};o.enabled=e.FPCConfig.enabled,o.name=e.FPCConfig.name,o.domain=e.FPCConfig.domain,o.expires=e.FPCConfig.expiry,i.enabled=e.enabled,i.cfgType=e.cfgType,a.FPCConfig=o,a.TPCConfig=i}else a.fpc=e.fpc,a.fpcdom=e.fpcdom,a.cookieexpires=e.cookieExp;t.init(a);var s=r.getURLKeepParms(n);t.urlKeepParams=s,Webtrends.addTransform(function(e,n){n.argsa||(n.argsa=[]),n.argsa.push("WT.hm_url",s)},"collect",e),r.plugMap[e.dcssID]=t,n.transform&&Webtrends.addTransform(n.transform,"all",t),Webtrends.bindEvent("wtmouseup",r.hm_clickEvent,e),t.mTrackOptions=n.mTrackOptions?n.mTrackOptions:{}}}};n.WebtrendsHeatMap=r,Webtrends.registerPlugin("hm",r.hm_loader)}}(window,window.document);