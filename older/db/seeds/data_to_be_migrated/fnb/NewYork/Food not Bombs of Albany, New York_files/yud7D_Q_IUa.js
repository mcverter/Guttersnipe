if (self.CavalryLogger) { CavalryLogger.start_js(["5oT6v"]); }

__d("CallToActionLinkFormats",[],(function a(b,c,d,e,f,g){f.exports={VIDEO_LEAD:"VIDEO_LEAD",VIDEO_LPP:"VIDEO_LPP",VIDEO_NEKO:"VIDEO_NEKO",VIDEO_NON_LINK:"VIDEO_NON_LINK",VIDEO_SHOP:"VIDEO_SHOP"};}),null);
__d("ComposedBlockType",[],(function a(b,c,d,e,f,g){f.exports={UNSTYLED:0,PARAGRAPH:1,UNORDERED_LIST_ITEM:2,ORDERED_LIST_ITEM:3,BLOCKQUOTE:4,HEADER_ONE:5,HEADER_TWO:6,CODE:7,MEDIA:8,PULLQUOTE:9,HEADER_THREE:10,HEADER_FOUR:11,HEADER_FIVE:12,HEADER_SIX:13};}),null);
__d("ComposedEntityType",[],(function a(b,c,d,e,f,g){f.exports={MENTION:0,LINK:1,IMAGE:2,VIDEO:3,EMOTICON:4,TOKEN:5,HASHTAG:6,IMPLICIT_LINK:7,EMBED:8,EMOJI:9};}),null);
__d("ComposedInlineStyle",[],(function a(b,c,d,e,f,g){f.exports={NONE:0,BOLD:1,ITALIC:2,UNDERLINE:4,CODE:8,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64};}),null);
__d("ComposerSourceSurface",[],(function a(b,c,d,e,f,g){f.exports={FEED:"newsfeed",TIMELINE:"timeline",PAGE:"page",GROUP:"group",EVENT:"event",FUNDRAISER:"fundraiser",SOCIAL_BALLOT:"social_ballot",VOTER_REGISTRATION:"voter_registration",ELECTION_HUB:"election_hub",QUICK_ELECTION:"quick_election",LIVE_MAP:"live_map",LOCAL_NEWS:"local_news",UNKNOWN:"unknown",RECOMMENDATIONS_DASHBOARD:"recommendations_dashboard",RECENT_POSTS:"timeline\/recent_posts",INSTANT_GAME:"instant_game",THROWBACK_PERMALINK:"throwback_permalink",MESSENGER_SHARE_DIALOG:"messenger_share_dialog",WORKBENCH:"workbench"};}),null);
__d("ComposerTargetType",[],(function a(b,c,d,e,f,g){f.exports={SELF_USER:"feed",OTHER_USER:"wall",GROUP:"group",PAGE:"page",EVENT:"event",RECOMMENDATION:"recommendation",FUNDRAISER:"fundraiser",EXAMPLE:"example",MARKETPLACE:"marketplace",ALBUM:"album",OTHER:"other"};}),null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],(function a(b,c,d,e,f,g){f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"};}),null);
__d("PagesComposerCarouselPostLogAttributes",[],(function a(b,c,d,e,f,g){f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};}),null);
__d("ReactComposerCollageLayoutActor",[],(function a(b,c,d,e,f,g){f.exports={USER:1,PAGE:2};}),null);
__d("ReactComposerJSONCollageLayoutData",[],(function a(b,c,d,e,f,g){f.exports={"2":[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3]]},{validActors:3,photoLayouts:[[0,6,3,0],[3,6,6,0]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,6,3]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0]]}],"3":[{validActors:3,photoLayouts:[[0,6,3,0],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,3,6,0],[0,6,3,3],[3,6,6,3]]},{validActors:2,photoLayouts:[[0,2,2,0],[0,4,2,2],[0,6,2,4]]},{validActors:1,photoLayouts:[[0,6,4,0],[4,3,6,0],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,4,6,0],[0,6,3,4],[3,6,6,4]]},{validActors:1,photoLayouts:[[0,6,2,0],[2,6,4,0],[4,6,6,0]]},{validActors:1,photoLayouts:[[0,2,6,0],[0,4,6,2],[0,6,6,4]]}],"4":[{validActors:3,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,3,6,0],[3,6,6,3]]},{validActors:3,photoLayouts:[[0,6,4,0],[4,2,6,0],[4,4,6,2],[4,6,6,4]]},{validActors:3,photoLayouts:[[0,4,6,0],[0,6,2,4],[2,6,4,4],[4,6,6,4]]}],"5":[{validActors:1,photoLayouts:[[0,3,3,0],[3,3,6,0],[0,6,2,3],[2,6,4,3],[4,6,6,3]]},{validActors:1,photoLayouts:[[0,3,3,0],[0,6,3,3],[3,2,5,0],[3,4,5,2],[3,6,5,4]]}]};}),null);
__d("ReactComposerMediaAspectTypes",[],(function a(b,c,d,e,f,g){f.exports={LANDSCAPE:"landscape",PORTRAIT:"portrait",SQUARE:"square",PANORAMA_TESTING_ONLY:"panorama",VERTICAL_PANORAMA_TESTING_ONLY:"vertical_panorama"};}),null);
__d("ReactComposerTaggerType",[],(function a(b,c,d,e,f,g){f.exports={CAMERA:"CAMERA",PEOPLE:"PEOPLE",OG:"OG",LOCATION:"LOCATION",ACTIVITY:"ACTIVITY",BACKDATE:"BACKDATE",TARGETING:"TARGETING",SPONSOR:"SPONSOR",VAULTPHOTO:"VAULTPHOTO",MARKDOWN:"MARKDOWN",CONTENT_WARNINGS:"CONTENT_WARNINGS",PRODUCT:"PRODUCT",PAGE_CTA:"PAGE_CTA",FORMATTED_TEXT:"FORMATTED_TEXT"};}),null);
__d("ShareModeConst",[],(function a(b,c,d,e,f,g){f.exports={SELF_PAGE:"selfpage",PAGE:"page",SELF_POST:"self",FRIEND:"friend",GROUP:"group",ALBUM:"album",MESSAGE:"message",ONE_CLICK:"oneclick",EVENT:"event",UNKNOWN:"unknown",OWN_POST:"own"};}),null);
__d('BUIProgressBar.react',['cx','BUIComponent','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=248;i=babelHelpers.inherits(m,c('BUIComponent'));j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$BUIProgressBar1=function(){if(!this.props.icon&&!this.props.message)return null;var s;if(this.props.icon)s=c('React').createElement(c('Image.react'),{className:"__q1",src:this.props.icon});return (c('React').createElement('div',{className:"__q2"},s,this.props.message));}.bind(this),this.$BUIProgressBar2=function(){if(this.props.isBuffering)return (c('React').createElement('div',{className:"__q3",style:{width:'100%'}}));var s=this.props.percentage||0;if(s<0)s=0;if(s>100)s=100;return (c('React').createElement('div',{className:"__q6"},c('React').createElement('div',{className:"__q7",style:{width:s+'%'}})));}.bind(this),this.$BUIProgressBar3=function(){if(this.props.flexibleWidth)return {width:'100%'};var s=+this.props.width;return {width:(s>l?l:s)+'px'};}.bind(this),o;}m.prototype.render=function(){var n=c('joinClasses')("__qa"+(this.props.isComplete===true?' '+"__qb":'')+(this.props.isError===true?' '+"__qc":'')+(this.props.height==='small'?' '+"_2tr-":'')+(this.props.color==='gray'?' '+"_2tr_":'')+(this.props.padding===true?' '+"_2m-z":''),this.props.className);return (c('React').createElement('div',{className:n,style:this.$BUIProgressBar3()},this.$BUIProgressBar2(),this.$BUIProgressBar1()));};m.propTypes={icon:k.object,isBuffering:k.bool,isError:k.bool,isSuccess:k.bool,message:k.node,percentage:k.number,height:k.oneOf(['small','medium']),width:k.number,color:k.oneOf(['gray','blue']),flexibleWidth:k.bool,padding:k.bool};m.defaultProps={isBuffering:false,isSuccess:false,isError:false,height:'medium',width:l,color:'blue',flexibleWidth:false,padding:true};f.exports=m;}),null);
__d('XUIButtonGroup.react',['cx','invariant','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';this.validateButtonSize();var n="_51xa"+(this.props.isOverlay?' '+"_51xb":'');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,n)}),this.props.children));};m.prototype.validateButtonSize=function(){'use strict';if(!this.props.isOverlay){var n;c('React').Children.forEach(this.props.children,function(o){if(o){o.type.getButtonSize||i(0);var p=o.type.getButtonSize(o.props);if(!n){n=p;}else p===n||i(0);}});}};function m(){'use strict';j.apply(this,arguments);}m.propTypes={isOverlay:l.bool};f.exports=m;}),null);
__d("ComposerTargetData",[],(function a(b,c,d,e,f,g){function h(i,j,k,l){"use strict";this.targetID=i;this.targetSupportsMultiplePhotos=j;this.viewerIsTarget=k;this.targetSupportsMultiMedia=l;}f.exports=h;}),null);
__d('DocumentUploadConfig',['DocumentUploadConfigInitialData'],(function a(b,c,d,e,f,g){var h={isSupported:function i(j){if(!j)return false;if(c('DocumentUploadConfigInitialData').CONTENT_TYPES.length<=0)return false;return c('DocumentUploadConfigInitialData').CONTENT_TYPES.includes(j);}};f.exports=h;}),null);
__d('ComposerXDragDropUtils',['csx','cx','Arbiter','CSS','DocumentUploadConfig','DOMQuery','Parent','VideoUploadFeatureDetector'],(function a(b,c,d,e,f,g,h,i){var j={handleDragEnterAndLeave:function k(l){var m=c('DOMQuery').scry(c('Parent').bySelector(l,"._119"),"._2wr");c('Arbiter').subscribe('dragenter',function(n,o){if(l==o.element)m.forEach(c('CSS').hide);});c('Arbiter').subscribe('dragleave',function(n,o){if(l==o.element)m.forEach(c('CSS').show);});},filterImages:function k(l){var m=c('VideoUploadFeatureDetector').supportsFileAPI(),n=[];for(var o=0;o<l.length;o++)if(l[o].type.match('image/*')){n.push(l[o]);}else if(m&&l[o].type.match('video/*')){n.push(l[o]);}else if(c('DocumentUploadConfig').isSupported(l[o].type))n.push(l[o]);return n;}};f.exports=j;}),null);
__d('ComposerXSessionIDs',['cx','DOM','uuid'],(function a(b,c,d,e,f,g,h){var i={},j={getSessionID:function k(l){return i[l];},resetSessionID:function k(l){i[l]=c('uuid')();},createSessionIDInput:function k(l){return c('DOM').create('input',{type:'hidden',name:'composer_session_id',className:"_5r_b",value:l});}};f.exports=j;}),null);
__d('ReactComposerAttachmentInitState',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({UNINITIALIZED:null,INITIALIZING:null,INITIALIZED:null},'ReactComposerAttachmentInitState');}),null);
__d('ReactComposerAttachmentStore',['ReactComposerAttachmentActionType','ReactComposerAttachmentInitState','ReactComposerAttachmentType','ReactComposerStoreBase','ImmutableObject','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {attachments:[],selectedAttachment:null,isSelectedAttachmentActive:false};},function(l){switch(l.type){case c('ReactComposerAttachmentActionType').REGISTER_ATTACHMENT:k&&k.$ReactComposerAttachmentStore1(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerAttachmentStore2(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:k&&k.$ReactComposerAttachmentStore3(l);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:k&&k.$ReactComposerAttachmentStore4(l);break;case c('ReactComposerAttachmentActionType').SET_INITIALIZED:k&&k.$ReactComposerAttachmentStore5(l);break;}});k=this;}j.prototype.getAttachment=function(k,l){'use strict';var m=this.getComposerData(k);return m.attachments.find(function(n){return (n.id===l);});};j.prototype.getSelectedAttachmentID=function(k){'use strict';var l=this.getComposerData(k);if(l.selectedAttachment)return l.selectedAttachment.id;return null;};j.prototype.hasAttachment=function(k,l){'use strict';return this.getComposerData(k).attachments.some(function(m){return m.id===l;});};j.prototype.getIsAttachmentSelected=function(k,l){'use strict';var m=this.getComposerData(k).selectedAttachment;return !!m&&m.id===l;};j.prototype.isSelectedAttachmentActive=function(k){'use strict';return this.getComposerData(k).isSelectedAttachmentActive;};j.prototype.isBootstrapped=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootstrapped;};j.prototype.getBootloadDuration=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootloadDuration;};j.prototype.getBootstrapDuration=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].bootstrapDuration;};j.prototype.getAttachmentsConfig=function(k,l){'use strict';var m=this.getComposerData(k),n=this.$ReactComposerAttachmentStore6(m,l);return m.attachments[n].config;};j.prototype.$ReactComposerAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','id']),m=l[0],n=l[1],o=this.getComposerData(m),p=new (c('ImmutableObject'))({id:n,initState:c('ReactComposerAttachmentInitState').UNINITIALIZED,bootloaded:k.bootloaded,bootstrapped:k.bootstrapped,module:k.module,postButtonModule:k.postButtonModule,initTime:null,bootloadDuration:null,bootstrapDuration:null,config:n===c('ReactComposerAttachmentType').MEDIA&&k.config?{videoUploadParams:k.config.videoUploadParams||{}}:null});o.attachments.push(p);if(k.selected)o.selectedAttachment=p;if(k.active)o.isSelectedAttachmentActive=true;this.emitChange(m);};j.prototype.$ReactComposerAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);if(o.attachments[p].initState===c('ReactComposerAttachmentInitState').UNINITIALIZED)o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{initState:c('ReactComposerAttachmentInitState').INITIALIZING});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['id','composerID','activate']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(n),q=this.$ReactComposerAttachmentStore6(p,m);p.selectedAttachment=p.attachments[q];if(o)p.isSelectedAttachmentActive=true;if(p.attachments[q].initState===c('ReactComposerAttachmentInitState').UNINITIALIZED)p.attachments[q]=c('ImmutableObject').set(p.attachments[q],{initState:c('ReactComposerAttachmentInitState').INITIALIZING});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['id','composerID','attachmentModule']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(n),q=this.$ReactComposerAttachmentStore6(p,m);p.attachments[q]=c('ImmutableObject').set(p.attachments[q],{bootloaded:true,bootloadDuration:c('performanceAbsoluteNow')()-p.attachments[q].initTime,module:o,postButtonModule:k.postButtonModule});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{bootstrapped:true,bootstrapDuration:c('performanceAbsoluteNow')()-o.attachments[p].initTime});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore5=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1],o=this.getComposerData(n),p=this.$ReactComposerAttachmentStore6(o,m);o.attachments[p]=c('ImmutableObject').set(o.attachments[p],{initState:c('ReactComposerAttachmentInitState').INITIALIZED,initTime:c('performanceAbsoluteNow')()});this.emitChange(n);};j.prototype.$ReactComposerAttachmentStore6=function(k,l){'use strict';var m=-1;for(var n=0;n<k.attachments.length;n++)if(k.attachments[n].id===l){m=n;break;}if(m===-1)throw new Error('Undefined attachment id: '+l);return m;};f.exports=new j();}),null);
__d('ReactComposerAttachmentActions',['ReactComposerAttachmentActionType','ReactComposerDispatcher','ReactComposerAttachmentStore'],(function a(b,c,d,e,f,g){h.prototype.registerAttachment=function(i,j){'use strict';var k=babelHelpers['extends']({composerID:i,type:c('ReactComposerAttachmentActionType').REGISTER_ATTACHMENT},j);c('ReactComposerDispatcher').dispatch(k);};h.prototype.initializeAttachment=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').INITIALIZE_ATTACHMENT,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.selectAttachment=function(i,j){var k=arguments.length<=2||arguments[2]===undefined?false:arguments[2],l=arguments[3];'use strict';var m=c('ReactComposerAttachmentStore').getSelectedAttachmentID(i);if(!m)return;var n={composerID:i,type:c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT,id:j,activate:k,uiElementName:l,currentAttachmentID:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setInitialized=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').SET_INITIALIZED,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setBootloaded=function(i,j,k,l){'use strict';var m={composerID:i,type:c('ReactComposerAttachmentActionType').SET_BOOTLOADED,id:j,attachmentModule:k,postButtonModule:l};c('ReactComposerDispatcher').dispatch(m);};h.prototype.setBootstrapped=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED,id:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.changeUploadStatus=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerAttachmentActionType').UPLOAD_ATTACHMENT,uploading:j};c('ReactComposerDispatcher').dispatch(k);};function h(){'use strict';}f.exports=new h();}),null);
__d('ReactComposerAttachmentLoader',['ReactComposerAttachmentActions','ReactComposerAttachmentInitState','ReactComposerAttachmentStore','ReactComposerStore','XReactComposerLoggingODSController','AsyncRequest'],(function a(b,c,d,e,f,g){var h={load:function i(j,k,l,m){var n=c('ReactComposerAttachmentStore').getAttachment(j,k);if(!n||n.initState===c('ReactComposerAttachmentInitState').INITIALIZED)return;c('ReactComposerAttachmentActions').setInitialized(j,k);this._logToODS(j,'bootload_start',k);l(function(o,p){this._logToODS(j,'bootload_done',k);c('ReactComposerAttachmentActions').setBootloaded(j,k,o,p);}.bind(this));this._logToODS(j,'bootstrap_start',k);new (c('AsyncRequest'))(m).setHandler(function(){this._logToODS(j,'bootstrap_done',k);setTimeout(function(){return c('ReactComposerAttachmentActions').setBootstrapped(j,k);},0);}.bind(this)).send();},_logToODS:function i(j,event,k){var l=c('XReactComposerLoggingODSController').getURIBuilder().setString('event',event).setString('attachment_type',k).setEnum('composer_type',c('ReactComposerStore').getRef(j)).getURI();new (c('AsyncRequest'))(l).send();}};f.exports=h;}),null);
__d('ReactComposerAttachmentPlaceholder.react',['cx','React','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c('joinClasses')(this.props.className,"_2nt-");return (c('React').createElement('div',{className:l},c('React').createElement(c('XUISpinner.react'),{className:"_2nt_",size:'large'})));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerAttachmentSelector.react',['cx','Image.react','Link.react','React','TooltipData','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=c('joinClasses')("_4-h7"+(this.props.selected?' '+"_5qtn":''),'fbReactComposerAttachmentSelector_'+this.props.attachmentID);return (c('React').createElement(c('Link.react'),babelHelpers['extends']({onClick:this.props.onSelected,className:m,role:'tab','aria-selected':this.props.selected,'data-tooltip-delay':'500'},c('TooltipData').propsFor(this.props.label),this.props),c('React').createElement('span',{className:"_4-fs"},c('React').createElement(c('Image.react'),{src:this.props.icon,className:"_5qto"}),c('React').createElement('span',{className:"_5qtp"},this.props.label),c('React').createElement('span',{className:"_4-h8"}))));};function l(){i.apply(this,arguments);}l.propTypes={selected:k.bool,label:k.string.isRequired,icon:k.object.isRequired,onSelected:k.func.isRequired};l.defaultProps={selected:false};f.exports=l;}),null);
__d('ReactComposerContextMixin',['ComposerEntryPointRef','React','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={contextTypes:{actorID:h.string.isRequired,composerID:h.string.isRequired,composerType:h.oneOf(c('getObjectValues')(c('ComposerEntryPointRef'))).isRequired,gks:h.object.isRequired,targetID:h.string.isRequired,jsModules:h.object,jsResources:h.object}};f.exports=i;}),null);
__d('ReactComposerPropsAndStoreBasedStateMixin',['invariant','ReactComposerContextMixin','ExecutionEnvironment','StoreBasedStateMixinHelper','setImmediate'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return {_queuedUpdates:[],mixins:[c('ReactComposerContextMixin')],getInitialState:function n(){var o=void 0;if(this.constructor.getAttachmentInitialState){o=this.constructor.getAttachmentInitialState(this.context.composerID,this.props,this.context);}else o={};if(this.constructor.beforeCalculateInitialState)this.constructor.beforeCalculateInitialState(this.context.composerID,this.props,this.context);return Object.assign({},o,this.constructor.calculateState(this.context.composerID,this.props,this.context));},componentWillMount:function n(){this.constructor.calculateState||h(0);this.context.composerID||h(0);this._recalculateStateID=null;var o=function(p){if(!c('ExecutionEnvironment').canUseDOM)return;if(this.isMounted()&&p.composerID===this.context.composerID)this.setState(this.constructor.calculateState(this.context.composerID,this.props,this.context));this._recalculateStateID=null;if(this._queuedUpdates.length)this._queuedUpdates.shift()();}.bind(this);this._mixin=new (c('StoreBasedStateMixinHelper'))(l);this._mixin.subscribeCallback(function(p){if(this._recalculateStateID===null){this._recalculateStateID=c('setImmediate')(o,p);}else this._queuedUpdates.push(function(){this._recalculateStateID=c('setImmediate')(o,p);}.bind(this));}.bind(this));},componentWillReceiveProps:function n(o){var p=void 0;if(this.constructor.getAttachmentWillReceivePropsState)p=this.constructor.getAttachmentWillReceivePropsState(this.context.composerID,o,this.props,this.context);this.setState(Object.assign({},p||{},this.constructor.calculateState(this.context.composerID,o,this.context)));},componentWillUnmount:function n(){this._mixin.release();this._mixin=null;}};};f.exports=i;}),null);
__d('ReactComposerAttachmentSelectorContainer.react',['ReactComposerAttachmentActions','ReactComposerAttachmentSelector.react','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerEvents','ReactComposerPropsAndStoreBasedStateMixin','Arbiter','ReactComponentWithPureRenderMixin','React','emptyFunction','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ComposerAttachmentSelectorContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'))],propTypes:{attachmentID:h.oneOf(c('getObjectValues')(c('ReactComposerAttachmentType'))).isRequired,label:h.string.isRequired,icon:h.object.isRequired,onSelected:h.func,loggingName:h.string.isRequired,disableSelectAttachment:h.bool,alternativeAttachmentIDs:h.arrayOf(h.oneOf(c('getObjectValues')(c('ReactComposerAttachmentType'))))},getDefaultProps:function j(){return {onSelected:c('emptyFunction'),disableSelectAttachment:false};},statics:{calculateState:function j(k,l){var m=[l.attachmentID];if(l.alternativeAttachmentIDs)m=m.concat(l.alternativeAttachmentIDs);var n=m.some(function(o){return c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,o);});return {selected:n};}},_onSelected:function j(){if(this.props.disableSelectAttachment)return;c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,this.props.attachmentID,true,this.props.loggingName);setTimeout(function(){return c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);}.bind(this),0);},render:function j(){var k=this.props.onSelected!==c('emptyFunction')?this.props.onSelected:this._onSelected;return (c('React').createElement(c('ReactComposerAttachmentSelector.react'),babelHelpers['extends']({},this.props,{selected:this.state.selected,showNLUEducation:this.state.showNLUEducation,onSelected:k})));}});f.exports=i;}),null);
__d('ReactComposerDragDropPrompt.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').PureComponent);k=j&&j.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_1y-n"},c('React').createElement('div',{className:"_1y-o"},c('React').createElement('span',{className:"_1y-p"},i._("Drag Link\/Photos\/Video Here")),c('React').createElement('span',{className:"_1y-q"},i._("Drop Link")),c('React').createElement('span',{className:"_1y-r"},i._("Drop Photo\/Video")),c('React').createElement('span',{className:"_1y-s"},i._("Drop Photos")))));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('ReactComposerDragDropPromptLazy.react',['ReactComposerDragDropPrompt.react','ComposerXDragDropUtils','DragDropTarget','React','ReactDOM','emptyFunction'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$ReactComposerDragDropPromptLazy1=undefined,m;}k.prototype.componentDidMount=function(){'use strict';var l=c('ReactDOM').findDOMNode(this.props.root);this.$ReactComposerDragDropPromptLazy1=new (c('DragDropTarget'))(l).setOnFilesDropCallback(this.props.onFilesDrop).setOnURLDropCallback(this.props.onURLDrop).setFileFilter(c('ComposerXDragDropUtils').filterImages).enable();};k.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerDragDropPromptLazy1&&this.$ReactComposerDragDropPromptLazy1.disable();};k.prototype.render=function(){'use strict';return c('React').createElement(c('ReactComposerDragDropPrompt.react'),null);};k.propTypes={root:j.object.isRequired,onFilesDrop:j.func,onURLDrop:j.func};k.defaultProps={onFilesDrop:c('emptyFunction'),onURLDrop:c('emptyFunction')};f.exports=k;}),null);
__d('ReactComposerLiveVideoAttachmentSelector.react',['fbt','ix','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').LIVE_VIDEO,label:this.props.label,icon:i("images\/video\/broadcast\/video-live_16.png"),'data-testid':'live-video-attachment-selector',loggingName:c('ReactComposerLoggingName').LIVE_VIDEO_TAB_SELECTOR}));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={label:l.node};m.defaultProps={label:h._("Live Video")};f.exports=m;}),null);
__d('ReactComposerAttachmentBodyMixin',['invariant','ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h){function i(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];k=k.concat(c('ReactComposerAttachmentStore'));return {mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin').apply(this,k)],statics:{beforeCalculateInitialState:function m(n,o){var p=this.getAttachmentConfig?this.getAttachmentConfig(o):o.config&&o.config.attachmentsConfig&&o.config.attachmentsConfig[this.attachmentID];c('ReactComposerAttachmentActions').registerAttachment(n,{id:this.attachmentID,selected:o.selected,active:o.prefillConfig&&o.prefillConfig.shouldActivateSelectedAttachment,config:p});},calculateState:function m(n,o){return Object.assign({selected:c('ReactComposerAttachmentStore').getIsAttachmentSelected(n,this.attachmentID)},this.calculateAttachmentState?this.calculateAttachmentState(n,o):{});}},componentWillMount:function m(){this.constructor.attachmentID||h(0);this.constructor.attachmentID||h(0);},render:function m(){if(!this.state.selected)return null;return this.renderX();}};}f.exports=i;}),null);
__d('ReactComposerLoadableAttachmentBodyMixin',['cx','invariant','ReactComposerAttachmentBodyMixin','ReactComposerAttachmentInitState','ReactComposerAttachmentLoader','ReactComposerAttachmentPlaceholder.react','ReactComposerAttachmentStore','ReactComposerStore','React'],(function a(b,c,d,e,f,g,h,i){var j={mixins:[c('ReactComposerAttachmentBodyMixin')(c('ReactComposerAttachmentStore'))],statics:{calculateAttachmentState:function k(l,m){var n=c('ReactComposerAttachmentStore').getAttachment(l,this.attachmentID),o=c('ReactComposerAttachmentStore').getIsAttachmentSelected(l,this.attachmentID),p=c('ReactComposerStore').isActive(l);return {composerIsActive:p,initState:n&&n.initState,attachmentModule:n&&n.module,bootstrapped:n&&n.bootstrapped,postButtonModule:n&&n.postButtonModule,isSelected:o};}},componentWillMount:function k(){this.constructor.attachmentID||i(0);if(this.props.selected&&this._shouldInitialize())this._initialize();},componentDidUpdate:function k(l,m){if(this.state.initState===c('ReactComposerAttachmentInitState').INITIALIZING&&this._shouldInitialize())this._initialize();},renderX:function k(){if(!this.state.attachmentModule||!this.state.bootstrapped){var l=this.getPlaceholderModule&&this.getPlaceholderModule(),m=l?l:c('ReactComposerAttachmentPlaceholder.react');return (c('React').createElement(m,babelHelpers['extends']({className:"_3rlw"},this.props)));}var n=this.state.attachmentModule;return (c('React').createElement(n,babelHelpers['extends']({},this.props,{postButtonModule:this.state.postButtonModule})));},_shouldInitialize:function k(){return this.constructor.initOnlyWhenComposerActive?this.state.composerIsActive:true;},_initialize:function k(){c('ReactComposerAttachmentLoader').load(this.context.composerID,this.constructor.attachmentID,this.bootload,this.getBootstrapURI());}};f.exports=j;}),null);
__d("XReactComposerLiveVideoAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/live_video\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"Int",required:true}});}),null);
__d('ReactComposerLiveVideoLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerLoadableAttachmentBodyMixin','ActorURI','Bootloader','React','XReactComposerLiveVideoAttachmentBootstrapController'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerLiveVideoLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{selected:h.bool},statics:{attachmentID:c('ReactComposerAttachmentType').LIVE_VIDEO},bootload:function j(k){c('Bootloader').loadModules(["ReactComposerLiveVideoAttachmentContainer.react"],k,'ReactComposerLiveVideoLazyAttachment.react');},getBootstrapURI:function j(){return c('ActorURI').create(c('XReactComposerLiveVideoAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setInt('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=i;}),null);
__d("CollageLayoutConfig",[],(function a(b,c,d,e,f,g){var h=4;function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?h:arguments[2];"use strict";this.$CollageLayoutConfig2=l;this.$CollageLayoutConfig3=k;this.$CollageLayoutConfig5(j);}i.prototype.getItemStyleInfos=function(){"use strict";return this.$CollageLayoutConfig1;};i.prototype.getIndexForPoint=function(j,k){"use strict";var l=this.$CollageLayoutConfig1.findIndex(function(m){return (m.left<=j&&m.top<=k&&m.left+m.width>=j&&m.top+m.height>=k);});return l===-1?null:l;};i.prototype.getCalculatedHeight=function(){"use strict";return this.$CollageLayoutConfig4;};i.prototype.getSpacing=function(){"use strict";return this.$CollageLayoutConfig2;};i.prototype.getWidth=function(){"use strict";return this.$CollageLayoutConfig3;};i.prototype.$CollageLayoutConfig5=function(j){"use strict";var k=this.$CollageLayoutConfig6(j),l=this.$CollageLayoutConfig7(j),m=this.$CollageLayoutConfig2*(l-1),n=Math.ceil((this.$CollageLayoutConfig3-m)/l);this.$CollageLayoutConfig4=(n+this.$CollageLayoutConfig2)*k-this.$CollageLayoutConfig2;this.$CollageLayoutConfig1=[];j.forEach(function(o){var p={left:(n+this.$CollageLayoutConfig2)*o.x,top:(n+this.$CollageLayoutConfig2)*o.y,width:(n+this.$CollageLayoutConfig2)*o.width-this.$CollageLayoutConfig2,height:(n+this.$CollageLayoutConfig2)*o.height-this.$CollageLayoutConfig2};if(p.left+p.width>this.$CollageLayoutConfig3)p.width=this.$CollageLayoutConfig3-p.left;this.$CollageLayoutConfig1.push(p);}.bind(this));};i.prototype.$CollageLayoutConfig7=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.x+l.width);});return k;};i.prototype.$CollageLayoutConfig6=function(j){"use strict";var k=0;j.forEach(function(l){k=Math.max(k,l.y+l.height);});return k;};f.exports=i;}),null);
__d('ReactComposerMediaAspect',['ReactComposerMediaAspectTypes'],(function a(b,c,d,e,f,g){'use strict';f.exports={fromRect:function h(i){return this._fromWidthAndHeight(i.w(),i.h());},fromDimensions:function h(i){return this._fromWidthAndHeight(i[0],i[1]);},_fromWidthAndHeight:function h(i,j){if(i>j){return c('ReactComposerMediaAspectTypes').LANDSCAPE;}else if(i<j){return c('ReactComposerMediaAspectTypes').PORTRAIT;}else return c('ReactComposerMediaAspectTypes').SQUARE;}};}),null);
__d('ReactComposerCollageLayoutModel',['regeneratorRuntime','Map','ReactComposerCollageLayoutActor','ReactComposerMediaAspect'],(function a(b,c,d,e,f,g){var h=[i,j].map(c('regeneratorRuntime').mark);'use strict';function i(l,m){var n,o;return c('regeneratorRuntime').wrap(function p(q){while(1)switch(q.prev=q.next){case 0:n=l.next();o=m.next();if(!(n.done||o.done)){q.next=5;break;}return q.abrupt('break',9);case 5:q.next=7;return [n.value,o.value];case 7:q.next=0;break;case 9:case 'end':return q.stop();}},h[0],this);}function j(l){var m,n,o,p,q;return c('regeneratorRuntime').wrap(function r(s){while(1)switch(s.prev=s.next){case 0:m=l,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();case 1:if(!n){s.next=7;break;}if(!(o>=m.length)){s.next=4;break;}return s.abrupt('break',16);case 4:p=m[o++];s.next=11;break;case 7:o=m.next();if(!o.done){s.next=10;break;}return s.abrupt('break',16);case 10:p=o.value;case 11:q=p;s.next=14;return (q);case 14:s.next=1;break;case 16:case 'end':return s.stop();}},h[1],this);}function k(l,m){'use strict';this.$ReactComposerCollageLayoutModel1=!!(l&c('ReactComposerCollageLayoutActor').USER);this.$ReactComposerCollageLayoutModel2=!!(l&c('ReactComposerCollageLayoutActor').PAGE);this.$ReactComposerCollageLayoutModel3=[];if(m)this.addPhotoLayouts(m);}k.prototype.addPhotoLayout=function(l){'use strict';this.$ReactComposerCollageLayoutModel3.push(l);return this;};k.prototype.addPhotoLayouts=function(l){'use strict';l.forEach(function(m){return this.$ReactComposerCollageLayoutModel3.push(m);}.bind(this));return this;};k.prototype.getNumPhotoLayouts=function(){'use strict';return this.$ReactComposerCollageLayoutModel3.length;};k.prototype.getPhotoLayouts=function(){'use strict';return this.$ReactComposerCollageLayoutModel3;};k.prototype.getIsValidForPages=function(){'use strict';return this.$ReactComposerCollageLayoutModel2;};k.prototype.getIsValidForUsers=function(){'use strict';return this.$ReactComposerCollageLayoutModel1;};k.prototype.getIsValidFor=function(l){'use strict';switch(l){case c('ReactComposerCollageLayoutActor').USER:return this.getIsValidForUsers();case c('ReactComposerCollageLayoutActor').PAGE:return this.getIsValidForPages();}return false;};k.prototype.hasMatchingCollagePhotoLayoutType=function(l){'use strict';var m=c('ReactComposerMediaAspect').fromRect(this.$ReactComposerCollageLayoutModel3[0]),n=c('ReactComposerMediaAspect').fromDimensions(l);return m===n;};k.prototype.score=function(l){'use strict';var m=0;for(var n=i(j(this.getPhotoLayouts()),l.values()),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=r[0],t=r[1];if(!t)continue;var u=s.w(),v=s.h(),w=t[0],x=t[1],y=0;if(w===0||x===0){y=0;}else if(u*x/w>=v){var z=u*x/w;y=(z-v)/z;}else if(v*w/x>u){var aa=v*w/x;y=(aa-u)/aa;}m-=y*100;if(x===w){m-=y*5;}else if(u>v){if(w>x){m+=y*25;}else m-=y*25;}else if(u<v){if(w<x){m+=y*25;}else m-=y*25;}else if(u===v)m-=y*5;}m+=200*this.getNumPhotoLayouts();return m;};f.exports=k;}),null);
__d('ReactComposerCollageLayoutData',['ReactComposerCollageLayoutModel','ReactComposerJSONCollageLayoutData','Rect'],(function a(b,c,d,e,f,g){'use strict';var h=[];Object.keys(c('ReactComposerJSONCollageLayoutData')).forEach(function(i){c('ReactComposerJSONCollageLayoutData')[i].forEach(function(j){h.push(new (c('ReactComposerCollageLayoutModel'))(j.validActors,j.photoLayouts.map(function(k){return new (Function.prototype.bind.apply(c('Rect'),[null].concat(k)))();})));});});f.exports=h;}),null);
__d('ReactComposerCollageLayoutSelection',['Map','FBID','Rect','ReactComposerCollageLayoutActor','ReactComposerCollageLayoutData','ReactComposerCollageLayoutModel'],(function a(b,c,d,e,f,g){'use strict';f.exports={MAX_NUM_COLS:6,MAX_NUM_ROWS:6,_getCollageLayoutsFor:function h(i){return c('ReactComposerCollageLayoutData').filter(function(j){return j.getIsValidFor(i);});},getMaxPhotosSupported:function h(){return Math.max.apply(Math,c('ReactComposerCollageLayoutData').map(function(i){return i.getNumPhotoLayouts();}));},getMaxPhotosSupportedFor:function h(i){return Math.max.apply(Math,this._getCollageLayoutsFor(i).map(function(j){return j.getNumPhotoLayouts();}));},getCollageLayout:function h(i,j){if(j===0)return this.getBestUserCollageLayout(i);var k=c('FBID').isUser(j)?this.getBestUserCollageLayout(i):this.getBestPageCollageLayout(i);return k;},getBestPageCollageLayout:function h(i){if(i.size==0)return new (c('Map'))();var j=i.values().next().value,k=Math.min(this.getMaxPhotosSupportedFor(c('ReactComposerCollageLayoutActor').PAGE),i.size),l=this._getCollageLayoutsFor(c('ReactComposerCollageLayoutActor').PAGE).filter(function(x){return x.getNumPhotoLayouts()===k;});if(!l.length)throw new Error('no valid layout for these media');var m=l.filter(function(x){return x.hasMatchingCollagePhotoLayoutType(j);});if(!m.length)throw new Error('no valid layout for these media starts with a suitable aspect');var n=m[0],o=new (c('Map'))(),p=0,q=n.getPhotoLayouts();for(var r=i.keys(),s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u,w=q[p++];if(w)o.set(v,w);}return o;},getBestUserCollageLayout:function h(i){var j=this._getCollageLayoutsFor(c('ReactComposerCollageLayoutActor').USER).filter(function(u){return u.getNumPhotoLayouts()<=i.size;});if(!j.length)throw new Error('no valid layout for these media');var k=this._bestLayoutByScore(j,i);if(!k)throw new Error('no best layout? Should not happen!');var l=new (c('Map'))(),m=0,n=k.getPhotoLayouts();for(var o=i.keys(),p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=n[m++];if(t)l.set(s,t);}return l;},_bestLayoutByScore:function h(i,j){var k=i.map(function(n){return [n,n.score(j)];}),l=k.reduce(function(n,o){var p=n[0],q=n[1],r=o[0],s=o[1];return (q===null||s>q?[r,s]:[p,q]);},[null,null]),m=l[0];return m;}};}),null);
__d('ReactComposerCollageUtils',['CollageLayoutConfig','ReactComposerCollageLayoutSelection','immutable','Map'],(function a(b,c,d,e,f,g){var h={extractDimensionDataIfValid:function i(j){var k=true,l=new (c('Map'))();j.forEach(function(m){if(!m.width||!m.height){k=false;return;}var n=m.width,o=m.height;if(m.isSpherical)n=o;l.set(m.id,[n,o]);});return k?l:null;},getCollageLayout:function i(j){if(!j||j.size<2)return [];var k=h.extractDimensionDataIfValid(j);if(!k)return [];var l=c('ReactComposerCollageLayoutSelection').getBestUserCollageLayout(k);if(!l)return [];var m=[];for(var n=k.keys(),o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q,s=l.get(r);if(!s)return [];m.push({x:s.l,y:s.t,width:s.w(),height:s.h()});}return m;},getCollageLayoutConfig:function i(j,k){var l=j.filter(function(n){return n.width&&n.height;}),m=h.getCollageLayout(l);return new (c('CollageLayoutConfig'))(m,k);},getSingleItemStyleInfo:function i(j,k){var l=[],m=k,n=j.width/j.height;if(j.isSpherical)n=1;if(n>1){m=k/n;}else k=n*m;l.push({left:0,top:0,width:k,height:m});return l;}};f.exports=h;}),null);
__d('ReactComposerMediaAttachmentSelector.react',['fbt','ix','ReactComponentWithPureRenderMixin','React','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerMediaAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{isInMoreButton:j.bool,label:j.string},getDefaultProps:function l(){return {label:h._("Photo\/Video")};},render:function l(){return (c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').MEDIA,label:this.props.label,icon:i("images\/facelift\/composer\/icons\/camera_16.png"),'data-testid':'media-attachment-selector',loggingName:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?'-1':undefined}));}});f.exports=k;}),null);
__d('ReactComposerBootloaderPropTypes',['React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes;f.exports=h.shape({statusAttachment:h.func.isRequired,mediaAttachment:h.func.isRequired,qandaAttachment:h.func,questionAttachment:h.func,extraAttachment:h.func});}),null);
__d("XReactComposerMediaAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/media\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerMediaInitUtils',['ActorURI','Bootloader','XReactComposerMediaAttachmentBootstrapController'],(function a(b,c,d,e,f,g){var h={bootload:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerMediaAttachmentPostButtonContainer.react"],j,'ReactComposerMediaInitUtils');},getBootstrapURI:function i(j,k,l,m){return c('ActorURI').create(c('XReactComposerMediaAttachmentBootstrapController').getURIBuilder().setString('composer_id',j).setEnum('composer_type',k).setString('target_id',l).getURI(),m);}};f.exports=h;}),null);
__d('ReactComposerMediaLazyAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ReactComposerMediaInitUtils','React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerMediaLazyAttachment',mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{additionalTaggers:h.arrayOf(h.shape({button:h.element.isRequired,container:h.element.isRequired})),additionalFooterActions:h.arrayOf(h.element),bootloader:c('ReactComposerBootloaderPropTypes')},statics:{attachmentID:c('ReactComposerAttachmentType').MEDIA},bootload:function j(k){if(this.props.bootloader){this.props.bootloader.mediaAttachment(k);}else c('ReactComposerMediaInitUtils').bootload(k);},getBootstrapURI:function j(){return c('ReactComposerMediaInitUtils').getBootstrapURI(this.context.composerID,this.context.composerType,this.context.targetID,this.context.actorID);}});f.exports=i;}),null);
__d('ReactComposerMediaUploadType',[],(function a(b,c,d,e,f,g){f.exports={PHOTO:'PHOTO',VIDEO:'VIDEO'};}),null);
__d('ReactComposerPhotoActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({PHOTO_RECOGNITION_STARTED:null,PHOTO_RECOGNITION_FINISHED:null,PHOTO_RECOGNITION_ALL_FINISHED:null,PHOTO_ADD_FACEBOX:null,PHOTO_TAG_FACEBOX:null,PHOTO_TAG_XY:null,PHOTO_TAG_XY_PRODUCT:null,PHOTO_UNTAG_FACEBOX:null,PHOTO_REMOVE:null,PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:null,PHOTO_EDIT_STARTED:null,PHOTO_EDIT_FINISHED:null,PHOTO_SET_BEING_TAGGED:null,PHOTO_LOADING_EDIT_FINISHED:null,PHOTO_UNTAG_ALL:null,PHOTO_SPHERICAL_UPDATING:null},'ReactComposerPhotoActionType');}),null);
__d('ReactComposerPhotoStore',['ReactComposerPhotoActionType','ReactComposerMediaUploadActionType','ReactComposerStoreBase','immutable','SphericalPhotoConfig'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').Record({cubestripURI:null,faceboxes:c('immutable').Map(),height:null,id:null,imageSrc:null,isLoadingPhotoEdit:false,isRecognizingFaceboxes:false,thumbSrc:null,uploadID:null,width:null,xyTags:c('immutable').Map()}),k=c('immutable').Record({id:null,photoID:null,x:null,y:null,top:null,left:null,width:null,height:null,croppedURI:null,taggedSubjectID:null,taggedValue:null,isMagicTag:false,recognizedSubjectID:null}),l=c('immutable').Record({from_facebox:false,name:null,photoID:null,source:null,subject:null,x:null,y:null,is_product_tag:false});h=babelHelpers.inherits(m,c('ReactComposerStoreBase'));i=h&&h.prototype;function m(){'use strict';var n;i.constructor.call(this,function(){return {photos:c('immutable').Map(),photoBeingTagged:null,isSphericalPhotoUpdating:false};},function(o){switch(o.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:n&&n.$ReactComposerPhotoStore1(o);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_EXTRA_DONE:n&&n.$ReactComposerPhotoStore2(o);break;case c('ReactComposerMediaUploadActionType').PHOTO_ADD_UPLOAD:n&&n.$ReactComposerPhotoStore3(o);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_STARTED:n&&n.$ReactComposerPhotoStore4(o);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_FINISHED:n&&n.$ReactComposerPhotoStore5(o);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:n&&n.$ReactComposerPhotoStore6(o);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:n&&n.$ReactComposerPhotoStore7(o);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY_PRODUCT:n&&n.$ReactComposerPhotoStore8(o);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY:n&&n.$ReactComposerPhotoStore9(o);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_FACEBOX:n&&n.$ReactComposerPhotoStore10(o);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_FACEBOX:n&&n.$ReactComposerPhotoStore11(o);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:n&&n.$ReactComposerPhotoStore12(o);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_SUBJECT_FROM_ALL_PHOTOS:n&&n.$ReactComposerPhotoStore13(o);break;case c('ReactComposerPhotoActionType').PHOTO_SET_BEING_TAGGED:n&&n.$ReactComposerPhotoStore14(o);break;case c('ReactComposerMediaUploadActionType').PREFILL_MEDIAS:n&&n.$ReactComposerPhotoStore15(o);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:n&&n.$ReactComposerPhotoStore16(o);break;case c('ReactComposerPhotoActionType').PHOTO_LOADING_EDIT_FINISHED:n&&n.$ReactComposerPhotoStore17(o);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_ALL:n&&n.$ReactComposerPhotoStore18(o);break;case c('ReactComposerPhotoActionType').PHOTO_SPHERICAL_UPDATING:n&&n.$ReactComposerPhotoStore19(o);break;default:}});n=this;}m.prototype.getPhotos=function(n){'use strict';return this.getComposerData(n).photos;};m.prototype.isLimitExceeded=function(n,o){'use strict';return this.getPhotos(n).size>o;};m.prototype.getPhoto=function(n,o){'use strict';return this.getComposerData(n).photos.get(o);};m.prototype.isRecognizing=function(n){'use strict';return this.getComposerData(n).photos.some(function(o){return o.isRecognizingFaceboxes;});};m.prototype.getIsSubjectTagged=function(n,o){'use strict';var p=this.getComposerData(n).photos;return p.some(function(q){return this.getIsSubjectTaggedInPhoto(n,q.id,o);}.bind(this));};m.prototype.getIsSubjectTaggedInPhoto=function(n,o,p){'use strict';var q=this.getPhoto(n,o),r=q.faceboxes.some(function(t){return t.taggedSubjectID===p;}),s=q.xyTags.some(function(t){return (t.subject===p);});return r||s;};m.prototype.hasTagsInPhoto=function(n,o){'use strict';var p=this.getPhoto(n,o);if(!p)return false;var q=p.faceboxes.some(function(s){return s.taggedSubjectID!==null;}),r=p.xyTags.size>0;return q||r;};m.prototype.getAllTaggedFaceboxes=function(n){'use strict';var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.faceboxes.toArray());});return p.filter(function(q){return !!q.get('taggedSubjectID');});};m.prototype.getTaggedFaceboxes=function(n,o){'use strict';var p=this.getPhoto(n,o);return !p?null:p.faceboxes.filter(function(q){return !!q.get('taggedSubjectID');}).map(function(q){return q.toObject();}).toArray();};m.prototype.getXYTags=function(n,o){'use strict';var p=this.getPhoto(n,o);return !p?null:p.xyTags.map(function(q){return q.toObject();}).toArray();};m.prototype.getAllXYTags=function(n){'use strict';var o=this.getPhotos(n),p=[];o.forEach(function(q){p=p.concat(q.xyTags.toArray());});return p;};m.prototype.getPhotoBeingTagged=function(n){'use strict';return this.getComposerData(n).photoBeingTagged;};m.prototype.isSphericalPhotoUpdating=function(n){'use strict';return this.getComposerData(n).isSphericalPhotoUpdating;};m.prototype.$ReactComposerPhotoStore1=function(n){'use strict';var o=this.validateAction(n,['composerID','uploadID','photoID','thumbSrc','cubestripURI','imageSrc','width','height']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=o[7];this.$ReactComposerPhotoStore20(p,r,new j({id:r,uploadID:q,thumbSrc:s,cubestripURI:t,imageSrc:u,width:v,height:w}));this.emitChange(p);};m.prototype.$ReactComposerPhotoStore2=function(n){'use strict';this.$ReactComposerPhotoStore1(n);};m.prototype.$ReactComposerPhotoStore4=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return (s.set('isRecognizingFaceboxes',true));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore5=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return (s.set('isRecognizingFaceboxes',false));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore6=function(n){'use strict';var o=this.validateAction(n,['composerID','photos']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return q.indexOf(s.id)!==-1?s.set('isRecognizingFaceboxes',false):s;});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore7=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','facebox']),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p),t=r.bestRecognition,u=null,v=null;if(t){u=t.subjectID;v=t.value;}s.photos=s.photos.update(q,function(w){return (w.update('faceboxes',function(x){return (x.set(r.id,new k({id:r.id,photoID:q,x:r.x,y:r.y,top:r.top,left:r.left,width:r.width,height:r.height,croppedURI:r.croppedURI,taggedSubjectID:u,taggedValue:v,isMagicTag:!!u,recognizedSubjectID:u})));}));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore9=function(n){'use strict';var o=this.validateAction(n,['composerID','value','photoID','source','subject','x','y']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(z){return (z.update('xyTags',function(aa){return (aa.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v})));}));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore8=function(n){'use strict';var o=this.validateAction(n,['composerID','value','photoID','source','subject','x','y']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=o[5],v=o[6],w=this.getComposerData(p);w.photos=w.photos.update(r,function(z){return (z.update('xyTags',function(aa){return (aa.set(t,new l({name:q,photoID:r,source:s,subject:t,x:u,y:v,is_product_tag:true})));}));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore10=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','faceboxID','subjectID','value']),p=o[0],q=o[1],r=o[2],s=o[3],t=o[4],u=this.getComposerData(p);u.photos=u.photos.update(q,function(v){return (v.update('faceboxes',function(w){return (w.update(r,function(x){return x.withMutations(function(y){return y.set('taggedSubjectID',s).set('taggedValue',t).set('isMagicTag',false);});}));}));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore18=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){s=s.set('xyTags',c('immutable').Map());return s;});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore11=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID','faceboxID']),p=o[0],q=o[1],r=o[2],s=this.getComposerData(p);s.photos=s.photos.update(q,function(t){return (t.update('faceboxes',function(u){return (u.update(r,function(v){return v.withMutations(function(w){return w.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});}));}));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore12=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos['delete'](q);};m.prototype.$ReactComposerPhotoStore13=function(n){'use strict';var o=this.validateAction(n,['composerID','subjectID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.map(function(s){return (s.withMutations(function(t){return t.update('faceboxes',function(u){return (u.map(function(v){if(v.taggedSubjectID!==q)return v;return v.withMutations(function(w){return w.remove('taggedSubjectID').remove('taggedValue').set('isMagicTag',false);});}));}).update('xyTags',function(u){return (u.filterNot(function(v){return v.subject===q;}));});}));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore14=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photoBeingTagged=q;this.emitChange(p);};m.prototype.$ReactComposerPhotoStore15=function(n){'use strict';var o=this.validateAction(n,['composerID','medias']),p=o[0],q=o[1];q.forEach(function(r){this.$ReactComposerPhotoStore20(p,r.photoID,new j({id:r.photoID,uploadID:r.uploadID,thumbSrc:r.thumbSrc,imageSrc:r.imageSrc,width:r.width,height:r.height,cubestripURI:r.cubestripURI}));}.bind(this));this.emitChange(p);};m.prototype.$ReactComposerPhotoStore16=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return (s.set('isLoadingPhotoEdit',true));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore17=function(n){'use strict';var o=this.validateAction(n,['composerID','photoID']),p=o[0],q=o[1],r=this.getComposerData(p);r.photos=r.photos.update(q,function(s){return (s.set('isLoadingPhotoEdit',false));});this.emitChange(p);};m.prototype.$ReactComposerPhotoStore3=function(n){'use strict';var o=this.validateAction(n,['composerID','photo']),p=o[0],q=o[1];this.$ReactComposerPhotoStore20(p,q.id,q);this.emitChange(p);};m.prototype.$ReactComposerPhotoStore19=function(n){'use strict';var o=this.validateAction(n,['composerID','isSphericalPhotoUpdating']),p=o[0],q=o[1],r=this.getComposerData(p);r.isSphericalPhotoUpdating=q;this.emitChange(p);};m.prototype.$ReactComposerPhotoStore20=function(n,o,p){'use strict';var q=this.getComposerData(n);q.photos=q.photos.set(o,p);};f.exports=new m();}),null);
__d('ReactComposerStatusActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({SET_EDITOR_STATE:null,SET_ORIGINAL_EDITOR_STATE:null,SET_TEXT_LENGTH:null,SET_MENTIONS:null,SET_MENTIONS_SOURCE:null,SET_TYPEAHEAD_REPORTER:null},'ReactComposerStatusActionType');}),null);
__d('ReactComposerConfig',['ComposerEntryPointRef','ComposerTargetData','ComposerTargetType','ComposerSourceSurface','React','getObjectValues'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports=h.shape({actorConfig:h.object,attachmentsConfig:h.object.isRequired,audienceXHP:h.any,contextInfo:h.object,loggingConfig:h.shape({targetType:h.oneOf(c('getObjectValues')(c('ComposerTargetType'))).isRequired,ref:h.oneOf(c('getObjectValues')(c('ComposerEntryPointRef'))).isRequired,composerSourceSurface:h.oneOf(c('getObjectValues')(c('ComposerSourceSurface'))).isRequired}).isRequired,mediaAcceptParam:h.shape({photos:h.string,both:h.string}),nuxConfig:h.object.isRequired,postButtonConfig:h.object,showExpandedComposer:h.bool,taggersConfig:h.object,sproutsConfig:h.object,targetData:h.instanceOf(c('ComposerTargetData')).isRequired,instagramCrossPostingEnabled:h.bool});}),null);
__d('ReactComposerActions',['ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerStore'],(function a(b,c,d,e,f,g){c('ReactComposerStore');var h,i={initConfig:function j(k,l,m){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').INIT_CONFIG,loggingConfig:l,activateOnInit:m===true});},schedule:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').SCHEDULE,scheduleDate:l});},postError:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_ERROR,response:l});},postIntended:function j(k,l){setTimeout(function(){if(!h||h(k,l.actorID,l.config,l.targetID))c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_INTENDED,actorID:l.actorID,config:l.config,targetID:l.targetID});},0);},registerPostIntendedHandler:function j(k){h=k;},postStarted:function j(k,l){var m=l.actorID,n=l.composerType,o=l.config,p=l.onPostSuccess,q=l.targetID,r=babelHelpers.objectWithoutProperties(l,['actorID','composerType','config','onPostSuccess','targetID']);setTimeout(function(){return c('ReactComposerDispatcher').dispatch({composerID:k,composerType:n,type:c('ReactComposerActionTypes').POST_STARTED,actorID:m,config:o,targetID:q,onPostSuccess:p,otherData:r});},0);},postSucceeded:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_SUCCEEDED});},postFinally:function j(k,l){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').POST_FINALLY,response:l});},publishStarted:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').PUBLISH_STARTED});},reset:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').COMPOSER_RESET});},expandSprouts:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').EXPAND_SPROUTS});},collapseSprouts:function j(k){c('ReactComposerDispatcher').dispatch({composerID:k,type:c('ReactComposerActionTypes').COLLAPSE_SPROUTS});}};f.exports=i;}),null);
__d('ReactComposerPostUtilsCore',['invariant','ReactComposerActions'],(function a(b,c,d,e,f,g,h){var i={getCoreData:function j(k,l,m){!isNaN(m)&&m>0||h(0);return Object.assign({is_react:true,xhpc_composerid:k,xhpc_targetid:m},l);},handlePostSucceeded:function j(k){c('ReactComposerActions').postSucceeded(k);c('ReactComposerActions').reset(k);}};f.exports=i;}),null);
__d('ReactComposerProfilePhoto.react',['cx','fbt','Image.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=40;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o="_3hvt",p=c('React').createElement(c('Image.react'),{className:"_bth",src:this.props.src,height:m,width:m}),q=i._("Profile of {name}",[i.param('name',this.props.profileName)]);return this.props.profileURI?c('React').createElement(c('Link.react'),{'aria-label':q,className:o,href:this.props.profileURI,onClick:this.props.onClick},p):c('React').createElement('div',{className:o},p);};function n(){'use strict';j.apply(this,arguments);}n.propTypes={src:l.string.isRequired,profileName:l.string,profileURI:l.string,onClick:l.func};f.exports=n;}),null);
__d('ReactComposerProfilePhotoBlock.react',['cx','ReactComposerProfilePhoto.react','Layout.react','React','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;n.prototype.render=function(){var o=this.props.profilePhotoBadge,p=this.props.onClick||c('emptyFunction');return (c('React').createElement(c('Layout.react'),null,c('React').createElement(k,{className:"_q-v"},o?c('React').createElement(o,this.props):c('React').createElement(c('ReactComposerProfilePhoto.react'),{src:this.props.profilePicSrc,profileName:this.props.profileName,profileURI:this.props.profileURI,onClick:p})),c('React').createElement(l,null,this.props.children)));};function n(){i.apply(this,arguments);}n.propTypes={profileName:m.string,profilePicSrc:m.string.isRequired,profileURI:m.string,profilePhotoBadge:m.any,currentProfileBadgeURI:m.string,profileBadgeNUX:m.string,onClick:m.func};f.exports=n;}),null);
__d('ReactComposerStatusLazyAttachmentTextarea.react',['cx','ReactComposerContextMixin','ReactComponentWithPureRenderMixin','React','ReactDOM','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusLazyAttachmentTextarea',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin')],propTypes:{expanded:i.bool,onFocus:i.func.isRequired,placeholder:i.string.isRequired},getInitialState:function k(){return {message:null};},componentWillUnmount:function k(){this._onUnmount();},render:function k(){return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_4h96")},c('React').createElement('textarea',{className:"_4h98",ref:'textarea',placeholder:this.props.placeholder,onFocus:this.props.onFocus,onChange:this.onChange,name:'xhpc_message_text'}),c('React').createElement('input',{type:'hidden',name:'xhpc_message',value:this.state.message})));},onChange:function k(l){this.setState({message:l.target.value});},focus:function k(){this.refs.textarea.focus();},_onUnmount:function k(){var l=c('ReactDOM').findDOMNode(this.refs.textarea);e.call(null,['ReactComposerStatusActions','ReactComposerPrefillMentionsInput','ReactInputSelection'],function(m,n,o){var p=l.value;if(!p)return;var q={text:p},r=o.getSelection(l),s=n.createEditorState(q,r);m.setEditorState(this.context.composerID,s);}.bind(this));}});f.exports=j;}),null);
__d('ReactComposerStatusLazyAttachmentTextareaContainer.react',['cx','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerEvents','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusLazyAttachmentTextarea.react','Arbiter','ReactComponentWithPureRenderMixin','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusLazyAttachmentTextareaContainer',_subscriptions:undefined,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'))],statics:{calculateState:function k(l,m){return {focused:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(l)};}},componentWillMount:function k(){this._subscriptions=new (c('SubscriptionsHandler'))();this._subscriptions.addSubscriptions(c('Arbiter').subscribe(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID,function(){var l=c('ReactComposerAttachmentStore').getSelectedAttachmentID(this.context.composerID);if(l===c('ReactComposerAttachmentType').STATUS)this.refs.textarea.focus();}.bind(this)));},componentWillUnmount:function k(){this._subscriptions&&this._subscriptions.release();},propTypes:{expanded:i.bool,id:i.string,hasProfilePic:i.bool,onFocus:i.func.isRequired,placeholder:i.node.isRequired},render:function k(){return (c('React').createElement(c('ReactComposerStatusLazyAttachmentTextarea.react'),babelHelpers['extends']({className:(this.state.focused?"_3_1x":'')+(this.props.expanded?' '+"_4h97":'')+(this.props.hasProfilePic?' '+"_30z":'')},this.props,{ref:'textarea'})));}});f.exports=j;}),null);
__d('ReactComposerFooter.react',['cx','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=c('joinClasses')("_2dck",this.props.className);return (c('React').createElement(c('XUICardSection.react'),{background:this.props.background,className:m},this.props.children));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={background:k.string};l.defaultProps={background:'white'};f.exports=l;}),null);
__d('ReactComposerFooterActions.react',['cx','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l=c('joinClasses')("_2ph-",this.props.className);return (c('React').createElement(c('XUICardSection.react'),{className:l},this.props.children));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerOptimisticPostingActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({START_OPTIMISTICALLY_POSTING:null,FINISH_OPTIMISTICALLY_POSTING:null},'ReactComposerOptimisticPostingActionType');}),null);
__d('ReactComposerOptimisticPostingStoryGeneric.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i=function j(){return (c('React').createElement('div',{className:"_3lza"},c('React').createElement('div',{className:"_2iwq"},c('React').createElement('div',{className:"_2iwy"}),c('React').createElement('div',{className:"_2iwz"}),c('React').createElement('div',{className:"_2iw-"}),c('React').createElement('div',{className:"_2iw_"}),c('React').createElement('div',{className:"_2ix0"}))));};f.exports=i;}),null);
__d('ReactComposerOptimisticPostingStoryHeader.react',['cx','fbt','ReactComposerProfilePhoto.react','Layout.react','React'],(function a(b,c,d,e,f,g,h,i){var j=c('Layout.react').Column,k=c('Layout.react').FillColumn,l=c('React').PropTypes,m=function o(){},n=function o(p){var q=p.profilePicSrc,r=p.profileName;return (c('React').createElement(c('Layout.react'),{className:"_1zm9"},c('React').createElement(j,{className:"_2pii"},c('React').createElement(c('ReactComposerProfilePhoto.react'),{src:q,profileName:r,onClick:m})),c('React').createElement(k,null,c('React').createElement('h6',{className:"_5pbw"},r),c('React').createElement('span',null,i._("Just now")))));};n.propTypes={profilePicSrc:l.string.isRequired,profileName:l.string.isRequired};f.exports=n;}),null);
__d('ReactComposerOptimisticPostingStoryVideo.react',['Bootloader','EventListener','ifRequired','Image.react','JSLog','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes,k=function m(){};h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(m){'use strict';i.constructor.call(this);this.$ReactComposerOptimisticPostingStoryVideo1=null;this.state={thumbSrc:m.videoUpload.thumbSrc};}l.prototype.componentDidMount=function(){'use strict';if(!this.state.thumbSrc){var m=document.createElement('video');m.setAttribute('src',this.props.videoUpload.fileURL);c('Bootloader').loadModules(["generateVideoThumbnails"],function(){},'ReactComposerOptimisticPostingStoryVideo.react');this.$ReactComposerOptimisticPostingStoryVideo1=c('EventListener').listen(m,'loadedmetadata',this.$ReactComposerOptimisticPostingStoryVideo2.bind(this,m));}};l.prototype.componentWillUnmount=function(){'use strict';this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove();};l.prototype.$ReactComposerOptimisticPostingStoryVideo2=function(m){'use strict';var n=c('ReactDOM').findDOMNode(this);c('Bootloader').loadModules(["generateVideoThumbnails"],function(o){o(m,n.clientWidth,n.clientHeight,1).done(function(p){return this.setState({thumbSrc:p.thumbnails[0].getURL()});}.bind(this));}.bind(this),'ReactComposerOptimisticPostingStoryVideo.react');this.$ReactComposerOptimisticPostingStoryVideo1&&this.$ReactComposerOptimisticPostingStoryVideo1.remove();this.$ReactComposerOptimisticPostingStoryVideo1=null;};l.prototype.$ReactComposerOptimisticPostingStoryVideo3=function(){'use strict';return c('React').createElement(c('Image.react'),{src:this.state.thumbSrc});};l.prototype.$ReactComposerOptimisticPostingStoryVideo4=function(){'use strict';return c('ifRequired')('ReactComposerVideoXUploadPlaceholder.react',function(m){return (c('React').createElement(m,{onRemoveButtonClicked:k,uploadID:this.props.videoUpload.id,uploadProgress:this.props.videoUpload.progress,uploadState:this.props.videoUpload.state}));}.bind(this),function(){c('JSLog').error('ReactComposerVideoXUploadPlaceholderContainer.react isn\'t '+'loaded when it\'s supposed to be.');});};l.prototype.render=function(){'use strict';return this.state.thumbSrc&&this.state.thumbSrc.indexOf('data:image/')===0?this.$ReactComposerOptimisticPostingStoryVideo3():this.$ReactComposerOptimisticPostingStoryVideo4();};l.propTypes={videoUpload:j.object.isRequired};f.exports=l;}),null);
__d('ReactComposerOptimisticPostingStoryMedia.react',['cx','ReactComposerCollageUtils','ReactComposerMediaUploadType','ReactComposerOptimisticPostingStoryVideo.react','Image.react','immutable','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=5,m=1000;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.$ReactComposerOptimisticPostingStoryMedia1=function(o){'use strict';if(o.size===0){return [];}else if(o.size===1){return c('ReactComposerCollageUtils').getSingleItemStyleInfo(o.first(),m);}else{var p=c('ReactComposerCollageUtils').getCollageLayoutConfig(o,m);return p.getItemStyleInfos();}};n.prototype.$ReactComposerOptimisticPostingStoryMedia2=function(o){'use strict';var p=0;o.forEach(function(q){var r=q.top+q.height;if(r>p)p=r;});return p/m*100;};n.prototype.$ReactComposerOptimisticPostingStoryMedia3=function(o){'use strict';return o.map(function(p,q){var r=this.props.mediaUploads.get(q),s=p.height/m*100,t=p.width/m*100,u=p.top/m*100,v=p.left/m*100,w=void 0;if(r.mediaType===c('ReactComposerMediaUploadType').VIDEO){w=c('React').createElement(c('ReactComposerOptimisticPostingStoryVideo.react'),{videoUpload:r});}else{var x=r.width/r.height,y=p.width/p.height,z=x>y?{height:'100%'}:{width:'100%'};w=c('React').createElement(c('Image.react'),{src:r.fileURL,style:z});}var aa=null;if(this.props.mediaUploads.size>l&&q===l-1)aa=this.$ReactComposerOptimisticPostingStoryMedia4();return (c('React').createElement('div',{key:r.id,className:"_58vp",style:{paddingBottom:''+s+'%',width:''+t+'%',top:''+u+'%',left:''+v+'%'}},w,aa));}.bind(this));};n.prototype.$ReactComposerOptimisticPostingStoryMedia4=function(){'use strict';var o=this.props.mediaUploads.size-l+1;return (c('React').createElement('div',{className:"_52d9"},c('React').createElement('div',{className:"_52da"},c('React').createElement('div',{className:"_52db"},'+',o))));};n.prototype.render=function(){'use strict';var o=this.$ReactComposerOptimisticPostingStoryMedia1(this.props.mediaUploads.take(l));return (c('React').createElement('div',{className:"_58vq",style:{paddingBottom:''+this.$ReactComposerOptimisticPostingStoryMedia2(o)+'%'}},this.$ReactComposerOptimisticPostingStoryMedia3(o)));};function n(){'use strict';i.apply(this,arguments);}n.propTypes={mediaUploads:k.instanceOf(c('immutable').List).isRequired};f.exports=n;}),null);
__d('ReactComposerOptimisticPostingStoryProgress.react',['cx','fbt','BUIProgressBar.react','React'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=function l(m){var n=m.percent,o=void 0;if(n===null){o={isBuffering:true};}else o={percentage:n};return (c('React').createElement('div',{className:"_2oj3"},c('React').createElement('span',null,i._("Uploading...")),c('React').createElement(c('BUIProgressBar.react'),babelHelpers['extends']({className:"_2oj4",flexibleWidth:true},o))));};k.propTypes={percent:j.number};f.exports=k;}),null);
__d('ReactComposerOptimisticPostingStoryStatus.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=function l(m){var n=m.status;return (c('React').createElement('div',{className:"_4sfj"},c('React').createElement('div',{className:"_5pbx"},n)));},k=i.oneOfType([i.number,i.string,i.element,i.arrayOf(k)]);j.PropTypes={status:k.isRequired};f.exports=j;}),null);
__d('ReactComposerOptimisticPostingStoryVideoMessage.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j=function k(){return (c('React').createElement('div',{className:"_41hf"},i._("The video in your post is being processed. We'll send you a notification when it's done and your post is ready to view.")));};f.exports=j;}),null);
__d('ReactComposerTaggerActionType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({DESELECT_TAGGER:null,SET_SELECTED_TAGGER:null,UPDATE_TAGGERS_SOURCE:null,SET_TAGGER_SOURCE:null,SET_TAGGER_DATA:null,SET_SELECTED_DATETIME:null,SET_SELECTED_PEOPLE:null,SET_TAGGER_SHOW_NUX:null,SET_SHOULD_HIDE_TAGGER_BUTTON:null},'ReactComposerTaggerActionType');}),null);
__d('ReactComposerTaggerStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','immutable','SearchableEntry','Set','isEmpty'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){var l={};l[c('ReactComposerTaggerType').PEOPLE]=[];l[c('ReactComposerTaggerType').LOCATION]={};l[c('ReactComposerTaggerType').BACKDATE]={};l[c('ReactComposerTaggerType').ACTIVITY]={};l[c('ReactComposerTaggerType').TARGETING]={};l[c('ReactComposerTaggerType').SPONSOR]={sponsors:[],directShareStatus:0,sponsorRelationship:0};l[c('ReactComposerTaggerType').PRODUCT]=[];l[c('ReactComposerTaggerType').MARKDOWN]={};l[c('ReactComposerTaggerType').CONTENT_WARNINGS]=[];return {$ReactComposerTaggerStore1:c('immutable').Set(),autoFocusOnSelectedTagger:true,selectedTagger:null,taggersData:l,taggersSource:{},taggersShowNUX:{},shouldHideTaggerButton:{}};},function(l){switch(l.type){case c('ReactComposerTaggerActionType').DESELECT_TAGGER:k&&k.$ReactComposerTaggerStore2(l);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:k&&k.$ReactComposerTaggerStore3(l);break;case c('ReactComposerTaggerActionType').UPDATE_TAGGERS_SOURCE:k&&k.$ReactComposerTaggerStore4(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_SOURCE:k&&k.$ReactComposerTaggerStore5(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:k&&k.$ReactComposerTaggerStore6(l);break;case c('ReactComposerTaggerActionType').SET_TAGGER_SHOW_NUX:k&&k.$ReactComposerTaggerStore7(l);break;case c('ReactComposerTaggerActionType').SET_SHOULD_HIDE_TAGGER_BUTTON:k&&k.$ReactComposerTaggerStore8(l);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:k&&k.$ReactComposerTaggerStore9(l);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY:k&&k.$ReactComposerTaggerStore10(l);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_XY_PRODUCT:k&&k.$ReactComposerTaggerStore11(l);break;case c('ReactComposerPhotoActionType').PHOTO_TAG_FACEBOX:k&&k.$ReactComposerTaggerStore12(l);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_ALL:k&&k.$ReactComposerTaggerStore13(l);break;case c('ReactComposerPhotoActionType').PHOTO_UNTAG_FACEBOX:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);k&&k.$ReactComposerTaggerStore14(l);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);k&&k.$ReactComposerTaggerStore15(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:k&&k.$ReactComposerTaggerStore16(l);break;}});k=this;}j.prototype.hasData=function(k,l){'use strict';var m=this.getTaggerData(k,l);if(m==null)return false;switch(l){case c('ReactComposerTaggerType').PEOPLE:case c('ReactComposerTaggerType').PRODUCT:case c('ReactComposerTaggerType').CONTENT_WARNINGS:return m.length>0;case c('ReactComposerTaggerType').LOCATION:return !!m.place;case c('ReactComposerTaggerType').BACKDATE:return !!m.year;case c('ReactComposerTaggerType').ACTIVITY:return !!m.action&&!!m.object;case c('ReactComposerTaggerType').TARGETING:case c('ReactComposerTaggerType').MARKDOWN:return !c('isEmpty')(m);case c('ReactComposerTaggerType').SPONSOR:return m.sponsors&&m.sponsors.length>0;case c('ReactComposerTaggerType').FORMATTED_TEXT:return !!m.formatActive;default:throw new Error(l+' is an unhandled tagger type in '+'ReactComposerTaggerStore.hasData');}};j.prototype.shouldShowNUX=function(k,l){'use strict';var m=this.getComposerData(k);return !!m.taggersShowNUX[l];};j.prototype.shouldHideTaggerButton=function(k,l){'use strict';var m=this.getComposerData(k);return !!m.shouldHideTaggerButton[l];};j.prototype.areAllTaggersEmpty=function(k){'use strict';var l=this.getTaggersData(k);for(var m in l)if(this.hasData(k,m))return false;return true;};j.prototype.getSelectedTagger=function(k){'use strict';return this.getComposerData(k).selectedTagger;};j.prototype.getAutoFocusOnSelectedTagger=function(k){'use strict';return this.getComposerData(k).autoFocusOnSelectedTagger;};j.prototype.getTaggerSource=function(k,l){'use strict';return this.getComposerData(k).taggersSource[l];};j.prototype.getTaggerData=function(k,l){'use strict';return this.getComposerData(k).taggersData[l];};j.prototype.getTaggersData=function(k){'use strict';return this.getComposerData(k).taggersData;};j.prototype.hasMinutiae=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').ACTIVITY);return !!(l&&l.action&&l.object);};j.prototype.hasLocationTag=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').LOCATION);return !!(l&&(l.place||l.implicitLocation));};j.prototype.hasExplicitLocation=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').LOCATION);return !!(l&&l.place);};j.prototype.hasImplicitLocation=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').LOCATION);return !!(l&&l.implicitLocation&&!l.place);};j.prototype.hasBackdate=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').BACKDATE)||{};return !!l.year;};j.prototype.hasMarkdown=function(k){'use strict';return !!this.getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;};j.prototype.getNumberOfWithWhoTags=function(k){'use strict';var l=this.getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[];return l.length;};j.prototype.$ReactComposerTaggerStore2=function(k){'use strict';var l=this.getComposerData(k.composerID);l.selectedTagger=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore3=function(k){'use strict';var l=this.getComposerData(k.composerID);if(l.selectedTagger===k.taggerID&&!k.disableToggle){l.selectedTagger=null;}else l.selectedTagger=k.taggerID;l.autoFocusOnSelectedTagger=k.autoFocus;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore5=function(k){'use strict';var l=this.getComposerData(k.composerID);l.taggersSource[k.taggerID]=k.taggerSource;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','taggersSource']),m=l[0],n=l[1],o=this.getComposerData(m);for(var p in n)o.taggersSource[p]=n[p];this.emitChange(m);};j.prototype.$ReactComposerTaggerStore6=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore7=function(k){'use strict';var l=this.getComposerData(k.composerID);l.taggersShowNUX[k.taggerID]=k.showNUX;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore8=function(k){'use strict';var l=this.validateAction(k,['composerID','taggerID','shouldHideTaggerButton']),m=l[0],n=l[1],o=l[2],p=this.getComposerData(m);p.shouldHideTaggerButton[n]=o;this.emitChange(m);};j.prototype.$ReactComposerTaggerStore16=function(k){'use strict';var l=this.getComposerData(k.composerID),m=Object.assign({mediaLocation:k.mediaLocation},l.taggersData[c('ReactComposerTaggerType').LOCATION]);l.taggersData[c('ReactComposerTaggerType').LOCATION]=m;this.emitChange(k.composerID);};j.prototype.$ReactComposerTaggerStore9=function(k){'use strict';var l=this.validateAction(k,['composerID','facebox','photoID']),m=l[0],n=l[1],o=l[2],p=n.bestRecognition;if(p)this.$ReactComposerTaggerStore17(m,p.subjectID,p.value,o);};j.prototype.$ReactComposerTaggerStore10=function(k){'use strict';var l=this.validateAction(k,['composerID','subject','value','photoID']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore17(m,n,o,p);};j.prototype.$ReactComposerTaggerStore13=function(k){'use strict';var l=this.validateAction(k,['composerID','photoID']),m=l[0],n=l[1];this.$ReactComposerTaggerStore18(m,n);this.$ReactComposerTaggerStore19(m,n);};j.prototype.$ReactComposerTaggerStore11=function(k){'use strict';var l=this.validateAction(k,['composerID','subject','value','photoID']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore20(m,n,o,p);};j.prototype.$ReactComposerTaggerStore12=function(k){'use strict';var l=this.validateAction(k,['composerID','subjectID','value','photoID']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerTaggerStore17(m,n,o,p);};j.prototype.$ReactComposerTaggerStore14=function(k){'use strict';var l=this.validateAction(k,['composerID','subjectID']),m=l[0],n=l[1];if(!c('ReactComposerPhotoStore').getIsSubjectTagged(m,n))this.$ReactComposerTaggerStore21(m,n);};j.prototype.$ReactComposerTaggerStore15=function(k){'use strict';var l=this.validateAction(k,'composerID');this.getComposerData(l).$ReactComposerTaggerStore1.forEach(function(m){if(!c('ReactComposerPhotoStore').getIsSubjectTagged(l,m))this.$ReactComposerTaggerStore21(l,m);}.bind(this));};j.prototype.$ReactComposerTaggerStore17=function(k,l,m,n){'use strict';var o=new (c('SearchableEntry'))({uniqueID:l,title:m,auxiliaryData:{isFacebox:true,photos:new (c('Set'))([n])}}),p=this.getComposerData(k),q=p.taggersData[c('ReactComposerTaggerType').PEOPLE],r=q.find(function(t){return t.getUniqueID()===o.getUniqueID();});p.$ReactComposerTaggerStore1=p.$ReactComposerTaggerStore1.add(l);if(r){var s=r.getAuxiliaryData();if(this.$ReactComposerTaggerStore22(r))s.photos.add(n);}else p.taggersData[c('ReactComposerTaggerType').PEOPLE]=q.concat(o);this.emitChange(k);};j.prototype.$ReactComposerTaggerStore20=function(k,l,m,n){'use strict';var o=new (c('SearchableEntry'))({uniqueID:l,title:m,auxiliaryData:{isFacebox:true,photos:new (c('Set'))([n])}}),p=this.getComposerData(k),q=p.taggersData[c('ReactComposerTaggerType').PRODUCT],r=q.find(function(s){return s.getUniqueID()===o.getUniqueID();});if(r){if(this.$ReactComposerTaggerStore22(r))r.getAuxiliaryData().photos.add(n);}else p.taggersData[c('ReactComposerTaggerType').PRODUCT]=q.concat(o);this.emitChange(k);};j.prototype.$ReactComposerTaggerStore21=function(k,l){'use strict';var m=this.getComposerData(k);m.taggersData[c('ReactComposerTaggerType').PEOPLE]=m.taggersData[c('ReactComposerTaggerType').PEOPLE].filter(function(n){return n.getUniqueID()!==l;});m.taggersData[c('ReactComposerTaggerType').PRODUCT]=m.taggersData[c('ReactComposerTaggerType').PRODUCT].filter(function(n){return n.getUniqueID()!==l;});m.$ReactComposerTaggerStore1=m.$ReactComposerTaggerStore1['delete'](l);this.emitChange(k);};j.prototype.$ReactComposerTaggerStore18=function(k,l){'use strict';var m=this.getComposerData(k),n=m.taggersData[c('ReactComposerTaggerType').PEOPLE];this.$ReactComposerTaggerStore23(k,n,l);};j.prototype.$ReactComposerTaggerStore19=function(k,l){'use strict';var m=this.getComposerData(k),n=m.taggersData[c('ReactComposerTaggerType').PRODUCT];this.$ReactComposerTaggerStore23(k,n,l);};j.prototype.$ReactComposerTaggerStore23=function(k,l,m){'use strict';var n=[];for(var o=l,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s.getAuxiliaryData();if(this.$ReactComposerTaggerStore22(s)&&t.photos['delete'](m)&&t.photos.size==0)n.push(s.getUniqueID());}for(var u=n,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++];}else{w=u.next();if(w.done)break;x=w.value;}var y=x;this.$ReactComposerTaggerStore21(k,y);}};j.prototype.$ReactComposerTaggerStore22=function(k){'use strict';return k.getAuxiliaryData().photos;};f.exports=new j();}),null);
__d('DraftStringKey',[],(function a(b,c,d,e,f,g){'use strict';var h={stringify:function i(j){return '_'+String(j);},unstringify:function i(j){return j.slice(1);}};f.exports=h;}),null);
__d('encodeEntityRanges',['DraftStringKey','UnicodeUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('UnicodeUtils').strlen;function i(j,k){var l=[];j.findEntityRanges(function(m){return !!m.getEntity();},function(m,n){var o=j.getText(),p=j.getEntityAt(m);l.push({offset:h(o.slice(0,m)),length:h(o.slice(m,n)),key:Number(k[c('DraftStringKey').stringify(p)])});});return l;}f.exports=i;}),null);
__d('encodeInlineStyleRanges',['UnicodeUtils','findRangesImmutable'],(function a(b,c,d,e,f,g){'use strict';var h=function m(n,o){return n===o;},i=function m(n){return !!n;},j=[];function k(m,n,o){var p=[],q=n.map(function(r){return r.has(o);}).toList();c('findRangesImmutable')(q,h,i,function(r,s){var t=m.getText();p.push({offset:c('UnicodeUtils').strlen(t.slice(0,r)),length:c('UnicodeUtils').strlen(t.slice(r,s)),style:o});});return p;}function l(m){var n=m.getCharacterList().map(function(p){return p.getStyle();}).toList(),o=n.flatten().toSet().map(function(p){return k(m,n,p);});return Array.prototype.concat.apply(j,o.toJS());}f.exports=l;}),null);
__d('convertFromDraftStateToRaw',['DraftStringKey','encodeEntityRanges','encodeInlineStyleRanges'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=0,k={},l=[];i.getBlockMap().forEach(function(o,p){o.findEntityRanges(function(q){return q.getEntity()!==null;},function(q){var r=c('DraftStringKey').stringify(o.getEntityAt(q));if(!k.hasOwnProperty(r))k[r]=''+j++;});l.push({key:p,text:o.getText(),type:o.getType(),depth:o.getDepth(),inlineStyleRanges:c('encodeInlineStyleRanges')(o),entityRanges:c('encodeEntityRanges')(o,k),data:o.getData().toObject()});});var m=Object.keys(k),n={};m.forEach(function(o,p){var q=i.getEntity(c('DraftStringKey').unstringify(o));n[p]={type:q.getType(),mutability:q.getMutability(),data:q.getData()};});return {entityMap:n,blocks:l};}f.exports=h;}),null);
__d('encodeBlocks',['ComposedBlockType','ComposedEntityType','ComposedInlineStyle','convertFromDraftStateToRaw','mapObject','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=c('convertFromDraftStateToRaw')(k),m=l.blocks,n=l.entityMap,o=m.map(function(q){var r=q.key,s=q.type,t=q.text,u=q.depth,v=q.inlineStyleRanges,w=q.entityRanges;return {key:c('nullthrows')(r),type:i[s],text:t,depth:c('nullthrows')(u),inlineStyleRanges:c('nullthrows')(v).map(function(x){return babelHelpers['extends']({},x,{style:j[x.style]});}),entityRanges:c('nullthrows')(w)};}),p=c('mapObject')(n,function(q){var r=q.data,s=null,t=undefined;if(typeof r==='object'){s=r.id;t=babelHelpers.objectWithoutProperties(r,['id']);if(Object.keys(t).length===0){t=undefined;}else t=c('mapObject')(t,function(u){return u==null?'':String(u);});}return {id:s||null,type:c('ComposedEntityType')[q.type],data:t};});return {blocks:o,entityMap:p};}var i={unstyled:c('ComposedBlockType').UNSTYLED,paragraph:c('ComposedBlockType').PARAGRAPH,blockquote:c('ComposedBlockType').BLOCKQUOTE,'ordered-list-item':c('ComposedBlockType').ORDERED_LIST_ITEM,'unordered-list-item':c('ComposedBlockType').UNORDERED_LIST_ITEM,'code-block':c('ComposedBlockType').CODE,'header-one':c('ComposedBlockType').HEADER_ONE,'header-two':c('ComposedBlockType').HEADER_TWO,atomic:c('ComposedBlockType').MEDIA,pullquote:c('ComposedBlockType').PULLQUOTE,'header-three':c('ComposedBlockType').HEADER_TWO,'header-four':c('ComposedBlockType').HEADER_TWO,'header-five':c('ComposedBlockType').HEADER_TWO,'header-six':c('ComposedBlockType').HEADER_TWO},j={BOLD:c('ComposedInlineStyle').BOLD,CODE:c('ComposedInlineStyle').CODE,ITALIC:c('ComposedInlineStyle').ITALIC,STRIKETHROUGH:c('ComposedInlineStyle').STRIKETHROUGH,UNDERLINE:c('ComposedInlineStyle').UNDERLINE};f.exports=h;}),null);
__d('getImplicitURLRangesForContentState',['getImplicitURLMatches'],(function a(b,c,d,e,f,g){'use strict';function h(i){return i.getBlockMap().map(function(j){var k=[];c('getImplicitURLMatches')(j,function(l,m){k.push({start:l,end:m});});return k;}).toArray();}f.exports=h;}),null);
__d('getRichComposedTextDataForSave',['ComposedEntityType','UnicodeUtils','URI'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.encodedContent,k=i.implicitLinks,l=j.blocks,m=j.entityMap;k=k||[];var n=Object.keys(m).map(function(q){return Number(q);}),o=n.length?Math.max.apply(Math,n):0,p=o+1;k.forEach(function(q,r){q.forEach(function(s){var t=s.start,u=s.end,v=l[r],w=v.text,x=v.entityRanges,y=p++,z=c('UnicodeUtils').strlen(w.slice(0,t)),aa=c('UnicodeUtils').strlen(w.slice(t,u)),ba=l[r].entityRanges.some(function(ha){return (ha.offset<z+aa&&ha.offset+ha.length>z);});if(ba)return;var ca={offset:z,length:aa,key:y},da=l[r].text.slice(t,u),ea=new (c('URI'))(da),fa=ea.getProtocol();if(!fa)ea.setProtocol('http');var ga={id:null,type:c('ComposedEntityType').IMPLICIT_LINK,data:{url:ea.toString()}};x.push(ca);m[String(y)]=ga;});});return {blocks:l.map(function(q){return q.text;}),block_depths:l.map(function(q){return q.depth;}),block_types:l.map(function(q){return q.type;}),entities:l.map(function(q){return JSON.stringify(q.entityRanges);}),entity_map:JSON.stringify(m),inline_styles:l.map(function(q){return JSON.stringify(q.inlineStyleRanges);})};}f.exports=h;}),null);
__d('ReactComposerStatusStore',['ReactComposerStatusActionType','ReactComposerStoreBase','ComposedBlockType','ComposedEntityType','ReactComposerTaggerStore','encodeBlocks','getRichComposedTextDataForSave','getImplicitURLRangesForContentState','getMentionsTextForContentState'],(function a(b,c,d,e,f,g){var h,i;function j(l){for(var m=l.blocks,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;if(q.type!==c('ComposedBlockType').UNSTYLED||q.inlineStyleRanges.length!==0)return true;}for(var r in l.entityMap){var s=l.entityMap[r];if(s.type!==c('ComposedEntityType').MENTION)return true;}return false;}h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l;i.constructor.call(this,function(){return {editorState:null,length:0,mentionsSource:null,originalEditorState:null,typeaheadReporter:null,mentions:null};},function(m){switch(m.type){case c('ReactComposerStatusActionType').SET_MENTIONS_SOURCE:l&&l.$ReactComposerStatusStore1(m);break;case c('ReactComposerStatusActionType').SET_TYPEAHEAD_REPORTER:l&&l.$ReactComposerStatusStore2(m);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:l&&l.$ReactComposerStatusStore3(m);break;case c('ReactComposerStatusActionType').SET_ORIGINAL_EDITOR_STATE:l&&l.$ReactComposerStatusStore4(m);break;case c('ReactComposerStatusActionType').SET_MENTIONS:l&&l.$ReactComposerStatusStore5(m);break;case c('ReactComposerStatusActionType').SET_TEXT_LENGTH:l&&l.$ReactComposerStatusStore6(m);break;}});l=this;}k.prototype.getMentionsSource=function(l){'use strict';return this.getComposerData(l).mentionsSource;};k.prototype.getTypeaheadReporter=function(l){'use strict';return this.getComposerData(l).typeaheadReporter;};k.prototype.getEditorState=function(l){'use strict';return this.getComposerData(l).editorState;};k.prototype.getOriginalEditorState=function(l){'use strict';return this.getComposerData(l).originalEditorState;};k.prototype.getMentions=function(l){'use strict';return this.getComposerData(l).mentions;};k.prototype.getMessage=function(l){var m=arguments.length<=1||arguments[1]===undefined?false:arguments[1];'use strict';var n=this.getEditorState(l);if(!n)return '';var o=n.getCurrentContent(),p=m?'\n':'';return c('getMentionsTextForContentState')(o,p);};k.prototype.getMessageText=function(l){'use strict';var m=this.getEditorState(l);if(!m)return '';var n=m.getCurrentContent();return n?n.getPlainText():'';};k.prototype.getRichTextBlocks=function(l){'use strict';var m=c('ReactComposerTaggerStore').hasMarkdown(l);if(m)return null;var n=this.getEditorState(l);if(!n)return null;var o=n.getCurrentContent(),p=c('encodeBlocks')(o);if(!j(p))return null;var q={encodedContent:p,implicitLinks:c('getImplicitURLRangesForContentState')(o)};return c('getRichComposedTextDataForSave')(q);};k.prototype.getOriginalMessageText=function(l){'use strict';var m=this.getOriginalEditorState(l);if(!m)return '';var n=m.getCurrentContent();return n?n.getPlainText():'';};k.prototype.getTextLength=function(l){'use strict';return this.getComposerData(l).textLength;};k.prototype.$ReactComposerStatusStore1=function(l){'use strict';var m=this.getComposerData(l.composerID);m.mentionsSource=l.mentionsSource;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore2=function(l){'use strict';var m=this.getComposerData(l.composerID);m.typeaheadReporter=l.typeaheadReporter;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore3=function(l){'use strict';var m=this.getComposerData(l.composerID);m.editorState=l.editorState;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore4=function(l){'use strict';var m=this.getComposerData(l.composerID);m.originalEditorState=l.originalEditorState;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore5=function(l){'use strict';var m=this.getComposerData(l.composerID);m.mentions=l.mentions;this.emitChange(l.composerID);};k.prototype.$ReactComposerStatusStore6=function(l){'use strict';var m=this.validateAction(l,['composerID','textLength']),n=m[0],o=m[1],p=this.getComposerData(n);p.textLength=o;this.emitChange(n);};f.exports=new k();}),null);
__d('ReactComposerOptimisticPostingStoryContainer.react',['cx','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerEvents','ReactComposerMediaUploadType','ReactComposerOptimisticPostingStoryGeneric.react','ReactComposerOptimisticPostingStoryHeader.react','ReactComposerOptimisticPostingStoryMedia.react','ReactComposerOptimisticPostingStoryProgress.react','ReactComposerOptimisticPostingStoryStatus.react','ReactComposerOptimisticPostingStoryVideoMessage.react','ReactComposerStatusStore','StoreBasedStateMixinHelper','Arbiter','ifRequired','immutable','JSLog','ReactComponentWithPureRenderMixin','React','XUICard.react'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=null,k=c('React').createClass({displayName:'ReactComposerOptimisticPostingStoryContainer',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{attachmentType:i.string.isRequired,composerID:i.string.isRequired,config:c('ReactComposerConfig').isRequired},_mixin:null,_recalculateStateID:null,_mediaUploads:null,_previousPercent:0,getInitialState:function l(){c('ifRequired')('ReactComposerMediaUploadStore',function(m){j=m;},function(){c('JSLog').error('ReactComposerMediaUploadStore isn\'t loaded when it\'s supposed '+'to be loaded.');});return this._calculateState();},componentDidMount:function l(){this._previousPercent=0;this._mixin=new (c('StoreBasedStateMixinHelper'))([j]);this._mixin.subscribeCallback(function(m){if(this._recalculateStateID===null)this._recalculateStateID=setTimeout(function(){var n=this._calculateState(),o=Math.max(n.percent,this._previousPercent);n.percent=o;this._previousPercent=o;this.setState(n);this._recalculateStateID=null;}.bind(this),0);}.bind(this));if(j&&j.getUploadsOfType(this.props.composerID,c('ReactComposerMediaUploadType').VIDEO).size)c('Arbiter').subscribeOnce(c('ReactComposerEvents').POST_SUCCEEDED+this.props.composerID,function(){this.setState({videoFinishedUploading:true});}.bind(this));},componentWillUnmount:function l(){this._mixin&&this._mixin.release();this._recalculateStateID&&clearTimeout(this._recalculateStateID);},_calculateState:function l(){var m,n=this,o=null;if(this.props.attachmentType===c('ReactComposerAttachmentType').MEDIA&&j)(function(){var p=j.getUploads(n.props.composerID),q=0,r=0,s=0,t=0;p.forEach(function(w){if(w.get('fileSize')!==null){q+=w.get('fileSize');r+=(w.progress||0)*w.get('fileSize');}else{s++;t+=w.progress||0;}});if(s){var u=p.size-s,v=u?q/u:1;q+=v*s;r+=v*t;}if(q)o=r/q;})();return {percent:o,videoFinishedUploading:this.state&&this.state.videoFinishedUploading};},_renderStatusElement:function l(){var m=c('ReactComposerStatusStore').getMessageText(this.props.composerID),n=[].concat(m.split('\n'));for(var o=1;o<n.length;o+=2)n.splice(o,0,c('React').createElement('br',{key:o}));return c('React').createElement(c('ReactComposerOptimisticPostingStoryStatus.react'),{key:'status',status:n});},_renderMediaElement:function l(){if(!j)return this._renderGenericElement();if(!this._mediaUploads)this._mediaUploads=j.getUploads(this.props.composerID);var m=c('React').createElement(c('ReactComposerOptimisticPostingStoryMedia.react'),{key:'media',mediaUploads:this._mediaUploads});if(!c('ReactComposerStatusStore').getMessageText(this.props.composerID))return m;return [this._renderStatusElement(),m];},_renderGenericElement:function l(){return c('React').createElement(c('ReactComposerOptimisticPostingStoryGeneric.react'),null);},_renderBody:function l(){var m=void 0;if(this.props.attachmentType===c('ReactComposerAttachmentType').STATUS){m=this._renderStatusElement();}else if(this.props.attachmentType===c('ReactComposerAttachmentType').MEDIA){m=this._renderMediaElement();}else m=this._renderGenericElement();return (c('React').createElement('div',{className:"_38-r"},m));},render:function l(){var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],n=m.profilePicSrc,o=m.profileName;return (c('React').createElement(c('XUICard.react'),{className:"_4rtr"},this.state.videoFinishedUploading?c('React').createElement(c('ReactComposerOptimisticPostingStoryVideoMessage.react'),null):c('React').createElement(c('ReactComposerOptimisticPostingStoryProgress.react'),{percent:this.state.percent}),c('React').createElement(c('ReactComposerOptimisticPostingStoryHeader.react'),{profilePicSrc:n,profileName:o}),this._renderBody()));}});f.exports=k;}),null);
__d('ReactComposerOptimisticPostingStore',['ReactComposerActionTypes','ReactComposerEvents','ReactComposerInit','ReactComposerMediaUploadType','ReactComposerOptimisticPostingActionType','ReactComposerOptimisticPostingStoryContainer.react','ReactComposerStoreBase','Arbiter','ifRequired','JSLog','React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,j={};h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l=function(m){switch(m.type){case c('ReactComposerOptimisticPostingActionType').START_OPTIMISTICALLY_POSTING:this&&this.$ReactComposerOptimisticPostingStore1(m);break;case c('ReactComposerOptimisticPostingActionType').FINISH_OPTIMISTICALLY_POSTING:case c('ReactComposerActionTypes').POST_SUCCEEDED:case c('ReactComposerActionTypes').POST_ERROR:this&&this.$ReactComposerOptimisticPostingStore2(m);break;default:}}.bind(this);i.constructor.call(this,function(){return {hasVideo:null,optimisticallyPostingElement:null};},l);}k.prototype.isOptimisticallyPosting=function(l){'use strict';return !!this.getComposerData(l).optimisticallyPostingElement;};k.prototype.hadOptimisticallyPosted=function(l){'use strict';return !!j[l];};k.prototype.$ReactComposerOptimisticPostingStore3=function(l,m){'use strict';c('Arbiter').inform(c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+l);c('Arbiter').inform('LitestandComposer/publishTemp',{composer_id:l,markup:m});c('ReactComposerInit').hideAndReplaceComposer(l);};k.prototype.$ReactComposerOptimisticPostingStore1=function(l){'use strict';var m=this.validateAction(l,['composerID','config','attachmentType']),n=m[0],o=m[1],p=m[2],q=this.$ReactComposerOptimisticPostingStore4(c('React').createElement(c('ReactComposerOptimisticPostingStoryContainer.react'),{attachmentType:p,composerID:n,config:o}));this.getComposerData(n).optimisticallyPostingElement=q;c('ifRequired')('ReactComposerMediaUploadStore',function(r){this.getComposerData(n).hasVideo=r.getUploadsOfType(n,c('ReactComposerMediaUploadType').VIDEO).size;}.bind(this),function(){c('JSLog').error('ReactComposerMediaUploadStore isn\'t loaded when it\'s supposed '+'to be.');});this.emitChange(n);setTimeout(this.$ReactComposerOptimisticPostingStore3.bind(null,n,q),0);};k.prototype.$ReactComposerOptimisticPostingStore2=function(l){'use strict';var m=this.validateAction(l,['composerID']),n=this.getComposerData(m).optimisticallyPostingElement;if(!n)return;this.getComposerData(m).optimisticallyPostingElement=null;if(!this.getComposerData(m).hasVideo)c('ReactDOM').unmountComponentAtNode(n);j[m]=true;this.emitChange(m);};k.prototype.$ReactComposerOptimisticPostingStore4=function(l){'use strict';var m=document.createElement('div');c('ReactDOM').render(l,m);return m;};f.exports=new k();}),null);
__d('ReactComposerOptimisticPostingActions',['ReactComposerConfig','ReactComposerDispatcher','ReactComposerOptimisticPostingActionType','ReactComposerOptimisticPostingStore'],(function a(b,c,d,e,f,g){c('ReactComposerOptimisticPostingStore');var h={startOptimisticallyPosting:function i(j,k,l){c('ReactComposerDispatcher').dispatch({composerID:j,config:k,attachmentType:l,type:c('ReactComposerOptimisticPostingActionType').START_OPTIMISTICALLY_POSTING});},finishOptimisticallyPosting:function i(j){c('ReactComposerDispatcher').dispatch({composerID:j,type:c('ReactComposerOptimisticPostingActionType').FINISH_OPTIMISTICALLY_POSTING});}};f.exports=h;}),null);
__d('ReactComposerPostButton.react',['cx','fbt','ix','Image.react','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;n.getButtonSize=function(){return 'medium';};n.prototype.render=function(){var o=c('React').createElement(c('Image.react'),{className:"_5gm4"+(this.props.disabled&&this.props.isPosting?' '+"_5gm5":''),src:j("images\/loaders\/indicator_blue_small.gif"),'data-testid':'react-composer-throbber'}),p=c('React').createElement('span',{className:this.props.disabled&&this.props.isPosting?"_5gm9":''},this.props.label);return (c('React').createElement(c('XUIButton.react'),{className:"_1mf7",disabled:this.props.disabled,label:p,image:o,onClick:this.props.onClick,use:'confirm','data-testid':'react-composer-post-button'}));};function n(){k.apply(this,arguments);}n.propTypes={disabled:m.bool,onClick:m.func,label:m.string,isPosting:m.bool};n.defaultProps={disabled:false,label:i._("Post")};f.exports=n;}),null);
__d("XReactComposerScrapedAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""},source_logging_name:{type:"Enum",defaultValue:"others",enumType:1}});}),null);
__d("XReactComposerShareAttachmentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/share_attachment\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});}),null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','CallToActionLinkFormats','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','XReactComposerShareAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DialogX','DOM'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(l){switch(l.type){case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.hasAttachment=function(k){'use strict';return !!this.getMarkup(k);};j.prototype.isScraping=function(k){'use strict';return this.getComposerData(k).isScraping;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isReadOnly=function(k){'use strict';var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c('DOM').scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c('DOM').scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c('DOM').scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value;}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c('DOM').scry(l.markup,'input[name="attachment[carousel_log]['+c('PagesComposerCarouselPostLogAttributes').USE_CAROUSEL_COMPOSER+']"]').pop();if(p!=null&&p.value==='1'){this.$ReactComposerScrapedAttachmentStore8(l);this.$ReactComposerScrapedAttachmentStore9(l);}this.$ReactComposerScrapedAttachmentStore10(l);}return l.attachmentConfig;};j.prototype.getPostConfirmationDialog=function(k){'use strict';return this.getComposerData(k).postConfirmationDialog;};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){'use strict';var l={},m=Object.keys(c('PagesComposerCarouselPostLogAttributes'));for(var n=0;n<m.length;n++){var o=c('PagesComposerCarouselPostLogAttributes')[m[n]],p=c('DOM').scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value;}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l;};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){'use strict';k.attachmentConfig.params.child_attachments={};var l=Object.keys(c('PagesComposerCarouselPostChildAttachmentAttributes')),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c('DOM').scry(k.markup,'input[name="attachment[params][child_attachments]['+m+']['+c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]+']"]').pop();if(q==null)continue;n[c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]]=q.value;o=true;}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++;}};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){'use strict';var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(l.hasOwnProperty(o))if(l[o].selected==='1'){n+=1;if(n>1)return;if(l[o].video_id)m=l[o];}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:'NO_BUTTON',cta_link:m.link,cta_link_format:c('CallToActionLinkFormats').VIDEO_LPP});}};j.prototype.getPermissiveMatch=function(k){'use strict';return this.getComposerData(k).permissiveMatch;};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','permissiveMatch']),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','value','entryPoint','actorID','sourceLoggingName']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5];if(!this.isEnabled(m))return;var s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('entry_point',p).setString('source_attachment',t).setEnum('source_logging_name',r).getURI();u=c('ActorURI').create(u,q);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){'use strict';if(!this.isEnabled(k.composerID))return;var l=this.getComposerData(k.composerID);l.markup=k.markup;l.attachmentConfig=k.attachmentConfig;l.isScraping=false;l.sourceAttachment=c('ReactComposerAttachmentStore').getSelectedAttachmentID(k.composerID);l.postConfirmationDialog=k.postConfirmationDialog;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('carousel_params',p).setString('entry_point',q).setString('source_attachment',t).getURI();u=c('ActorURI').create(u,r);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','actorID','shareType','shareParams']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(m);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerShareAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setInt('share_type',p).setString('share_params',JSON.stringify(q)).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,o);new (c('AsyncRequest'))(t).send();this.emitChange(m);};f.exports=new j();}),null);
__d('ReactComposerPostButtonContainerMixin',['ReactComposerActions','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerOptimisticPostingActions','ReactComposerOptimisticPostingStore','ReactComposerPostButton.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerPhotoStore','ReactComposerScrapedAttachmentStore','ReactComposerStore','BootloadedComponent.react','JSResource','ReactComponentWithPureRenderMixin','React','XUIButtonGroup.react'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerOptimisticPostingStore'),c('ReactComposerPhotoStore'),c('ReactComposerStore'))],propTypes:{config:c('ReactComposerConfig').isRequired,forceDisabled:h.bool,onClickPreprocess:h.func},getDefaultProps:function j(){return {forceDisabled:false};},statics:{calculateState:function j(k,l,m){var n=c('ReactComposerStore').isPosting(k),o=c('ReactComposerOptimisticPostingStore').isOptimisticallyPosting(k),p=c('ReactComposerPhotoStore').isSphericalPhotoUpdating(k);return {disabled:l.forceDisabled||n||o||p,isPosting:n,isOptimisticallyPosting:o,isSphericalPhotoUpdating:p};},getButtonSize:function j(){return 'medium';}},render:function j(){var k=c('React').createElement(c('ReactComposerPostButton.react'),babelHelpers['extends']({},this.props,{disabled:this.state.disabled,className:this.props.className,onClick:this._onClick,isPosting:this.state.isPosting}));if(this.context.actorID===this.context.targetID&&this.props.config.actorConfig&&this.props.config.actorConfig.canSchedule&&this.props.config.actorConfig.timezoneStr)return (c('React').createElement('span',null,c('React').createElement(c('XUIButtonGroup.react'),null,k),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ReactComposerUserScheduledPostButton.react').__setRef('ReactComposerPostButtonContainerMixin'),bootloadPlaceholder:c('React').createElement('div',null),composerID:this.context.composerID,onSchedule:this._onClick,timezoneStr:this.props.config.actorConfig.timezoneStr})));return k;},_onClick:function j(event){if(this.state.disabled){event.preventDefault();return;}if(this.props.onClickPreprocess)if(!this.props.onClickPreprocess())return;var k=c('ReactComposerScrapedAttachmentStore').getPostConfirmationDialog(this.context.composerID);if(k){k.subscribe('confirm',function(){k.hide();k.destroy();this._doStartPost();}.bind(this));k.show();return;}else this._doStartPost();},_doStartPost:function j(){if(this.context.gks.optimisticPosting)c('ReactComposerOptimisticPostingActions').startOptimisticallyPosting(this.context.composerID,this.props.config,c('ReactComposerAttachmentType').STATUS);c('ReactComposerActions').postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});}};f.exports=i;}),null);
__d('ReactComposerPostButtonContainer.react',['ReactComposerPostButtonContainerMixin','React'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerPostButtonContainer',mixins:[c('ReactComposerPostButtonContainerMixin')]});f.exports=h;}),null);
__d('ReactComposerGenericFooter.react',['ReactComposerConfig','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerPostButtonContainer.react','React','LeftRight.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){'use strict';var l=this.props.postButton?this.props.postButton:c('React').createElement(c('ReactComposerPostButtonContainer.react'),{config:this.props.config});return (c('React').createElement(c('ReactComposerFooter.react'),{background:this.props.background},c('React').createElement(c('LeftRight.react'),null,this.props.leftChild,c('React').createElement(c('ReactComposerFooterActions.react'),null,this.props.audienceSelector,l))));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={audienceSelector:j.element,background:j.string,config:c('ReactComposerConfig').isRequired,leftChild:j.element,postButton:j.element};k.defaultProps={background:'white',leftChild:c('React').createElement('noscript',null)};f.exports=k;}),null);
__d('ReactComposerStatusPlaceholderFooter.react',['cx','fbt','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerGenericFooter.react','DOMContainer.react','React','XUIButton.react','requireWeak'],(function a(b,c,d,e,f,g,h,i){var j,k,l;c('requireWeak')('ReactComposerAudienceSelectorContainer.react',function(n){l=n;});j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=this.props.config,o=n.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],p=o.footerBackground?o.footerBackground:n.showExpandedComposer?'white':'light-wash',q=c('React').createElement(c('XUIButton.react'),{className:"_1mf7",label:i._("Post"),use:'confirm'}),r=null;if(n.audienceXHP)r=l&&n.targetData?c('React').createElement(l,{audienceXHP:n.audienceXHP,viewerIsTarget:n.targetData.viewerIsTarget}):c('React').createElement(c('DOMContainer.react'),{className:"_5dd8"},n.audienceXHP);return (c('React').createElement(c('ReactComposerGenericFooter.react'),{audienceSelector:r,postButton:q,background:p,config:n}));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={config:c('ReactComposerConfig').isRequired};f.exports=m;}),null);
__d('ReactComposerTaggerSummaryPlaceholder.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_3o1x"}));};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerStatusAttachmentPlaceholder.react',['ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDragDropPromptLazy.react','ReactComposerLoggingName','ReactComposerPostUtilsCore','ReactComposerProfilePhotoBlock.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusLazyAttachmentTextareaContainer.react','ReactComposerStatusPlaceholderFooter.react','ReactComposerStore','ReactComposerTaggerSummaryPlaceholder.react','ActorURI','Bootloader','Event','ReactComponentWithPureRenderMixin','React','ReactDOM','SubscriptionsHandler','curry'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerStatusAttachmentPlaceholder',_subscriptionsHandler:null,mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'),c('ReactComposerStore'))],propTypes:{config:c('ReactComposerConfig').isRequired,expanded:h.bool,placeholder:h.string.isRequired},statics:{calculateState:function j(k,l){return {isActive:c('ReactComposerAttachmentStore').isSelectedAttachmentActive(k),sproutsDisplayState:c('ReactComposerStore').getSproutsDisplayState(k)};}},componentDidMount:function j(){var k=new (c('SubscriptionsHandler'))();k.addSubscriptions(c('Event').listen(c('ReactDOM').findDOMNode(this.refs.form),'success',c('curry')(c('ReactComposerPostUtilsCore').handlePostSucceeded,this.context.composerID)));this._subscriptionsHandler=k;},componentWillUnmount:function j(){this._subscriptionsHandler&&this._subscriptionsHandler.release();},render:function j(){var k=this.context.gks&&this.context.gks.isSproutsComposer,l=this._renderTextArea(),m=k?this._renderSproutsList():null,n=this.state.isActive||this.props.expanded||k?c('React').createElement(c('ReactComposerStatusPlaceholderFooter.react'),{config:this.props.config}):null;return (c('React').createElement('div',null,c('React').createElement(c('ReactComposerDragDropPromptLazy.react'),{root:this,config:this.props.config,onFilesDrop:this._onFilesDrop,onURLDrop:this._onURLDrop}),c('React').createElement('form',{action:c('ActorURI').create('/ajax/updatestatus.php',this.context.actorID),method:'post',rel:'async',ref:'form'},l,c('React').createElement(c('ReactComposerTaggerSummaryPlaceholder.react'),null),m,n,this._getHiddenInputs())));},_renderTextArea:function j(){var k=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS],l=c('React').createElement(c('ReactComposerStatusLazyAttachmentTextareaContainer.react'),{expanded:this.props.expanded,hasProfilePic:k.showProfilePic,onFocus:this._onFocus,placeholder:this.props.placeholder});if(k.showProfilePic){if(k.templatesConfig){var m=k.templatesConfig.module;return (c('React').createElement(m,{config:this.props.config},l));}else return (c('React').createElement(c('ReactComposerProfilePhotoBlock.react'),{profilePicSrc:k.profilePicSrc,profileURI:k.profileURI,profilePhotoBadge:k.customProfilePhoto,currentProfileBadgeURI:k.currentProfileBadgeURI},l));}else return l;},_renderSproutsList:function j(){var k=this.context.jsModules&&this.context.jsModules.ComposerSproutsListContainer;return (c('React').createElement(k,{config:this.props.config}));},_onFocus:function j(){c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').STATUS,true,c('ReactComposerLoggingName').INLINE_COMPOSER);},_onFilesDrop:function j(k){var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];c('Bootloader').loadModules(["ReactComposerStatusUtils","ReactComposerPhotoUploader"],function(m,n){var o=this.context.composerID;m.uploadDroppedFiles(o,k,new n(this.context,l.photoLimit,{disableFaceRecognition:l.disableFaceboxTagger}),this.props.config.targetData.targetSupportsMultiMedia,this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA],this.context);}.bind(this),'ReactComposerStatusAttachmentPlaceholder.react');},_onURLDrop:function j(k){c('Bootloader').loadModules(["ReactComposerScrapedAttachmentActions","ReactComposerStatusUtils"],function(l,m){var n=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];c('ReactComposerAttachmentActions').selectAttachment(this.context.composerID,c('ReactComposerAttachmentType').STATUS,true,c('ReactComposerLoggingName').LINK_DROPPED);l.enabled(this.context.composerID,n.canScrapeShare);m.scrapeLink(this.context.composerID,this.context.targetID,k,this.context.composerType,this.context.actorID);}.bind(this),'ReactComposerStatusAttachmentPlaceholder.react');},_getHiddenInputs:function j(){var k=c('ReactComposerPostUtilsCore').getCoreData(this.context.composerID,this.props.config.contextInfo,this.context.targetID),l=[];for(var m in k)l.push(c('React').createElement('input',{type:'hidden',name:m,value:k[m],key:m}));return l;}});f.exports=i;}),null);
__d('ReactComposerStatusAttachmentSelector.react',['fbt','ix','ReactComponentWithPureRenderMixin','React','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerLoggingName'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerStatusAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{isInMoreButton:j.bool,label:j.string},getDefaultProps:function l(){return {label:h._("Status")};},render:function l(){return (c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').STATUS,label:this.props.label,icon:i("images\/facelift\/composer\/icons\/write-post_16.png"),'data-testid':'status-attachment-selector',loggingName:c('ReactComposerLoggingName').STATUS_TAB_SELECTOR,tabIndex:this.props.isInMoreButton?'-1':undefined}));}});f.exports=k;}),null);
__d("XReactComposerStatusAttachmentBootstrapController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/react_composer\/status\/bootstrap\/",{composer_id:{type:"String",required:true},composer_type:{type:"Enum",required:true,enumType:1},target_id:{type:"String",required:true}});}),null);
__d('ReactComposerStatusLazyAttachment.react',['fbt','ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerLoadableAttachmentBodyMixin','ReactComposerStatusAttachmentPlaceholder.react','XReactComposerStatusAttachmentBootstrapController','ActorURI','Arbiter','Bootloader','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerStatusLazyAttachment',_useCustomPlaceholder:true,mixins:[c('ReactComposerLoadableAttachmentBodyMixin')],propTypes:{additionalTaggers:i.arrayOf(i.shape({button:i.element.isRequired,container:i.element.isRequired})),additionalFooterActions:i.arrayOf(i.element),bootloader:c('ReactComposerBootloaderPropTypes'),config:i.object.isRequired,expanded:i.bool,onPostIntent:i.func,placeholder:i.string.isRequired},getDefaultProps:function k(){return {placeholder:h._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"])};},statics:{attachmentID:c('ReactComposerAttachmentType').STATUS,initOnlyWhenComposerActive:true},getInitialState:function k(){return {expanded:false};},componentDidMount:function k(){c('Arbiter').inform('ReactComposerStatusLazyAttachment/mounted',this.context.composerID,c('Arbiter').BEHAVIOR_STATE);},componentWillUpdate:function k(l,m){if(!m.isSelected)this._useCustomPlaceholder=false;},getPlaceholderModule:function k(){if(!this._useCustomPlaceholder)return null;if(this._placeholder)return this._placeholder;this._placeholder=c('ReactComposerStatusAttachmentPlaceholder.react');return this._placeholder;},bootload:function k(l){if(this.props.bootloader){this.props.bootloader.statusAttachment(l);}else c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react"],l,'ReactComposerStatusLazyAttachment.react');},getBootstrapURI:function k(){return c('ActorURI').create(c('XReactComposerStatusAttachmentBootstrapController').getURIBuilder().setString('composer_id',this.context.composerID).setEnum('composer_type',this.context.composerType).setString('target_id',this.context.targetID).getURI(),this.context.actorID);}});f.exports=j;}),null);
__d('ReactComposerSessionMetricsActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){f.exports=c('keyMirrorRecursive')({KEYSTROKE:null,PASTE:null},'ReactComposerSessionMetricsActionTypes');}),null);
__d('ReactComposerSessionMetricsStore',['ReactComposerStoreBase','ReactComposerAttachmentActionType','ReactComposerSessionMetricsActionTypes','NavigationMetrics'],(function a(b,c,d,e,f,g){var h,i,j=-1;h=babelHelpers.inherits(k,c('ReactComposerStoreBase'));i=h&&h.prototype;function k(){'use strict';var l=void 0;i.constructor.call(this,function(){c('NavigationMetrics').addRetroactiveListener(c('NavigationMetrics').Events.NAVIGATION_DONE,function(m,n){var o=n.tti;l.ttiTimestamp=o;});return {composerStartTime:null,keystrokeCount:0,pasteCount:0};},function(m){switch(m.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:l&&l.$ReactComposerSessionMetricsStore1(m);break;case c('ReactComposerSessionMetricsActionTypes').KEYSTROKE:l&&l.$ReactComposerSessionMetricsStore2(m);break;case c('ReactComposerSessionMetricsActionTypes').PASTE:l&&l.$ReactComposerSessionMetricsStore3(m);break;}});this.ttiTimestamp=j;l=this;}k.prototype.getComposerEntryTime=function(l){'use strict';if(this.ttiTimestamp==j){return 0;}else return Math.round((this.getComposerData(l).composerStartTime-this.ttiTimestamp)/1000);};k.prototype.getComposerStartTime=function(l){'use strict';return this.getComposerData(l).composerStartTime;};k.prototype.getKeystrokeCount=function(l){'use strict';return this.getComposerData(l).keystrokeCount;};k.prototype.getPasteCount=function(l){'use strict';return this.getComposerData(l).pasteCount;};k.prototype.$ReactComposerSessionMetricsStore1=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);if(!n.composerStartTime)n.composerStartTime=Date.now();};k.prototype.$ReactComposerSessionMetricsStore2=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.keystrokeCount++;};k.prototype.$ReactComposerSessionMetricsStore3=function(l){'use strict';var m=this.validateAction(l,'composerID'),n=this.getComposerData(m);n.pasteCount++;};f.exports=new k();}),null);
__d('ReactComposerContextProviderMixin',['invariant','ReactComposerContextMixin'],(function a(b,c,d,e,f,g,h){var i=c('ReactComposerContextMixin').contextTypes,j={childContextTypes:i,getChildContext:function k(){return {actorID:this.props.contextConfig.actorID,composerID:this.props.contextConfig.composerID,composerType:this.props.contextConfig.composerType,gks:this.props.contextConfig.gks||{},targetID:this.props.contextConfig.targetID,jsModules:this.props.contextConfig.jsModules,jsResources:this.props.contextConfig.jsResources};},componentWillMount:function k(){this.props.contextConfig.actorID||h(0);this.props.contextConfig.composerID||h(0);this.props.contextConfig.composerType||h(0);this.props.contextConfig.targetID||h(0);}};f.exports=j;}),null);
__d('ReactComposerLoggingConfig',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes;f.exports=h.shape({targetType:h.string,ref:h.string,composerSourceSurface:h.string.isRequired,isEditComposer:h.bool});}),null);
__d('ReactComposer.react',['cx','ReactComposerActions','ReactComposerContextMixin','ReactComposerInit','ReactComposerLoggingActions','ReactComposerLoggingConfig','ReactComposerLoggingName','ReactComposerLoggingQueue','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSessionMetricsStore','ReactComposerStore','ReactComponentWithPureRenderMixin','React','ReactDOM','XUICard.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'),c('ReactComposerSessionMetricsStore'))],propTypes:{hideBorders:i.bool,loggingConfig:c('ReactComposerLoggingConfig').isRequired,activateOnInit:i.bool,activateOnInitEntryPoint:i.oneOf(Object.values(c('ReactComposerLoggingName')))},getDefaultProps:function k(){return {hideBorders:false,activateOnInit:false,activateOnInitEntryPoint:c('ReactComposerLoggingName').OTHERS};},getInitialState:function k(){return {hasBeenActive:false};},statics:{calculateState:function k(l,m){return {isActive:c('ReactComposerStore').isActive(l)};}},componentWillMount:function k(){c('ReactComposerActions').initConfig(this.context.composerID,this.props.loggingConfig,this.props.activateOnInit);if(this.props.activateOnInit)c('ReactComposerLoggingActions').composerEntry(this.context.composerID,this.props.activateOnInitEntryPoint);},componentDidUpdate:function k(l,m){if(this.state.isActive&&!this.state.hasBeenActive){this.setState({hasBeenActive:!this.state.hasBeenActive});c('ReactComposerLoggingQueue').initBootload(this.context.composerID,c('ReactDOM').findDOMNode(this),this.context.targetID,this.props.loggingConfig);}},componentWillUnmount:function k(){c('ReactComposerInit').unmountInstance(this.context.composerID,true);},render:function k(){var l="_36bx"+(this.props.hideBorders?' '+"_4a60":'');return (c('React').createElement(c('XUICard.react'),{className:c('joinClasses')(this.props.className,l),'data-testid':'react-composer-root',id:this.context.composerID},this.props.children));}});f.exports=j;}),null);
__d('ReactComposerBody.react',['cx','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=c('joinClasses')("_4zoz",this.props.className);return (c('React').createElement(c('XUICardSection.react'),{className:l},this.props.children));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('ReactComposerBodyContainer.react',['cx','ReactComposerAttachmentStore','ReactComposerBody.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'ReactComposerBodyContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerAttachmentStore'))],propTypes:{expanded:i.bool,hasMinHeight:i.bool},getDefaultProps:function k(){return {expanded:false,hasMinHeight:true};},statics:{calculateState:function k(l,m,n){var o=c('ReactComposerAttachmentStore').isSelectedAttachmentActive(l);return {active:o};}},render:function k(){var l=(this.state.active&&this.props.hasMinHeight?"_5xv3":'')+(this.props.expanded?' '+"_4cw":'');return (c('React').createElement(c('ReactComposerBody.react'),{className:l},this.props.children));}});f.exports=j;}),null);
__d('ReactComposerHeaderProps',['React'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i={propTypes:{attachmentSelectors:h.arrayOf(h.node),background:h.string,forceThrobber:h.bool,noHorizontalMargin:h.bool,rightChild:h.element,showDelimiter:h.bool,truncateSelectorText:h.bool},getDefaultProps:function j(){return {background:'white',forceThrobber:false,noHorizontalMargin:false,showDelimiter:true,truncateSelectorText:false};}};f.exports=i;}),null);
__d('ReactComposerHeaderCore.react',['cx','ReactComposerHeaderProps','LeftRight.react','React','XUICardSection.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l;if(this.props.showDelimiter){l=c('React').createElement('ul',{className:"_-h"},c('React').Children.map(this.props.attachmentSelectors,function(m,n){return (c('React').createElement('li',{className:"_1tm3",key:n},m));}));}else l=this.props.attachmentSelectors;return (c('React').createElement(c('XUICardSection.react'),{background:this.props.background,className:c('joinClasses')(this.props.className,"_4d6h"+(this.props.noHorizontalMargin?' '+"_4p1p":'')+(this.props.truncateSelectorText?' '+"_1kvc":''))},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,l),c('React').createElement('div',null,this.props.children))));};function k(){'use strict';i.apply(this,arguments);}k.propTypes=c('ReactComposerHeaderProps').propTypes;k.defaultProps=c('ReactComposerHeaderProps').getDefaultProps();f.exports=k;}),null);
__d('ReactComposerLazyHeader.react',['ReactComposerHeaderCore.react','ReactComposerHeaderProps','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStore','Bootloader','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerLazyHeader',mixins:[c('ReactComponentWithPureRenderMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerStore'))],propTypes:c('ReactComposerHeaderProps').propTypes,getDefaultProps:c('ReactComposerHeaderProps').getDefaultProps,getInitialState:function i(){return {shouldInitialize:true,header:null};},statics:{calculateState:function i(j,k){return {isActive:c('ReactComposerStore').isActive(j)};}},componentDidUpdate:function i(j,k){if(this.state.isActive&&this.state.shouldInitialize){this.setState({shouldInitialize:!this.state.shouldInitialize});c('Bootloader').loadModules(["ReactComposerHeader.react"],function(l){return this.setState({header:l});}.bind(this),'ReactComposerLazyHeader.react');}},render:function i(){var j=this.props,k=j.children,l=babelHelpers.objectWithoutProperties(j,['children']),m=this.state.header;if(!!m)return (c('React').createElement(m,babelHelpers['extends']({},l,{attachmentSelectors:k})));return (c('React').createElement(c('ReactComposerHeaderCore.react'),babelHelpers['extends']({},l,{attachmentSelectors:k}),this.props.rightChild));}});f.exports=h;}),null);
__d('ReactComposerContextConfig',['ReactComposerContextMixin','React'],(function a(b,c,d,e,f,g){var h=c('ReactComposerContextMixin').contextTypes,i=c('React').PropTypes;f.exports=i.shape(h);}),null);